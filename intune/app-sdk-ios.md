---
title: SDK de Aplicativo do Microsoft Intune para o Guia do Desenvolvedor do iOS
description: "O SDK de Aplicativo do Microsoft Intune para iOS permite incorporar políticas de proteção de aplicativo do Intune – na forma de MAM (gerenciamento de aplicativo móvel) – em seu aplicativo iOS."
keywords: 
author: mtillman
manager: angrobe
ms.author: mtillman
ms.date: 06/27/2017
ms.topic: article
ms.prod: 
ms.service: microsoft-intune
ms.technology: 
ms.assetid: 8e280d23-2a25-4a84-9bcb-210b30c63c0b
ms.reviewer: oydang
ms.suite: ems
ms.custom: intune-classic
ms.openlocfilehash: a5f7ffa14a78cecd613dcf6b7523acc0afb427cf
ms.sourcegitcommit: 3b21f20108e2bf1cf47c141b36a7bdae609c4ec3
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/10/2017
---
# <a name="microsoft-intune-app-sdk-for-ios-developer-guide"></a><span data-ttu-id="1ad03-103">SDK de Aplicativo do Microsoft Intune para o Guia do Desenvolvedor do iOS</span><span class="sxs-lookup"><span data-stu-id="1ad03-103">Microsoft Intune App SDK for iOS developer guide</span></span>

> [!NOTE]
> <span data-ttu-id="1ad03-104">Primeiro, leia o artigo [Guia de Introdução ao SDK de Aplicativo do Intune](app-sdk-get-started.md), que explica como se preparar para a integração em cada plataforma com suporte.</span><span class="sxs-lookup"><span data-stu-id="1ad03-104">You might want to first read the [Get Started with Intune App SDK Guide](app-sdk-get-started.md) article, which explains how to prepare for integration on each supported platform.</span></span>

<span data-ttu-id="1ad03-105">O SDK do Aplicativo do Microsoft Intune para iOS permite incorporar políticas de proteção do aplicativo do Intune (também conhecidas como políticas **APP** ou **MAM**) em seu aplicativo iOS nativo.</span><span class="sxs-lookup"><span data-stu-id="1ad03-105">The Microsoft Intune App SDK for iOS lets you incorporate Intune app protection policies (also known as **APP** or **MAM policies**) into your native iOS app.</span></span> <span data-ttu-id="1ad03-106">Um aplicativo habilitado para MAM é aquele que está integrado ao SDK do Aplicativo do Intune.</span><span class="sxs-lookup"><span data-stu-id="1ad03-106">A MAM-enabled application is one that is integrated with the Intune App SDK.</span></span> <span data-ttu-id="1ad03-107">Os administradores de TI podem implantar políticas de proteção do aplicativo em seu aplicativo móvel quando o Intune gerencia o aplicativo de forma ativa.</span><span class="sxs-lookup"><span data-stu-id="1ad03-107">IT administrators can deploy app protection policies to your mobile app when Intune actively manages the app.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="1ad03-108">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="1ad03-108">Prerequisites</span></span>

* <span data-ttu-id="1ad03-109">Você precisará de um computador Mac OS que executa o OS X 10.8.5 ou posterior e tenha o Xcode 8 ou posterior instalado.</span><span class="sxs-lookup"><span data-stu-id="1ad03-109">You will need a Mac OS computer that runs OS X 10.8.5 or later and has the Xcode 8 or later installed.</span></span>

* <span data-ttu-id="1ad03-110">Seu aplicativo deve ser direcionado para iOS 9 ou superior.</span><span class="sxs-lookup"><span data-stu-id="1ad03-110">Your app must be targeted for iOS 9 or above.</span></span>

* <span data-ttu-id="1ad03-111">Examinar os [Termos de Licença do SDK de Aplicativo do Intune para iOS](https://github.com/msintuneappsdk/ms-intune-app-sdk-ios/blob/master/Microsoft%20License%20Terms%20Intune%20App%20SDK%20for%20iOS%20.pdf).</span><span class="sxs-lookup"><span data-stu-id="1ad03-111">Review the [Intune App SDK for iOS License Terms](https://github.com/msintuneappsdk/ms-intune-app-sdk-ios/blob/master/Microsoft%20License%20Terms%20Intune%20App%20SDK%20for%20iOS%20.pdf).</span></span> <span data-ttu-id="1ad03-112">Imprimir e guardar uma cópia dos termos de licença para seus registros.</span><span class="sxs-lookup"><span data-stu-id="1ad03-112">Print and retain a copy of the license terms for your records.</span></span> <span data-ttu-id="1ad03-113">Ao baixar e usar o SDK de Aplicativo do Intune para iOS, você concorda com esses termos de licença.</span><span class="sxs-lookup"><span data-stu-id="1ad03-113">By downloading and using the Intune App SDK for iOS, you agree to such license terms.</span></span>  <span data-ttu-id="1ad03-114">Se você não aceitá-los, não use o software.</span><span class="sxs-lookup"><span data-stu-id="1ad03-114">If you do not accept them, do not use the software.</span></span>

* <span data-ttu-id="1ad03-115">Baixe os arquivos para o SDK do Aplicativo do Intune para iOS no [GitHub](https://github.com/msintuneappsdk/ms-intune-app-sdk-ios).</span><span class="sxs-lookup"><span data-stu-id="1ad03-115">Download the files for the Intune App SDK for iOS on [GitHub](https://github.com/msintuneappsdk/ms-intune-app-sdk-ios).</span></span>

## <a name="whats-in-the-sdk"></a><span data-ttu-id="1ad03-116">Novidades no SDK</span><span class="sxs-lookup"><span data-stu-id="1ad03-116">What’s in the SDK</span></span>

<span data-ttu-id="1ad03-117">O SDK de Aplicativo do Intune para iOS inclui uma biblioteca estática, arquivos de recursos, cabeçalhos de API, um arquivo .plist de configurações de depuração e uma ferramenta do configurador.</span><span class="sxs-lookup"><span data-stu-id="1ad03-117">The Intune App SDK for iOS includes a static library, resource files, API headers, a debug settings .plist file, and a configurator tool.</span></span> <span data-ttu-id="1ad03-118">Aplicativos móveis podem simplesmente incluir os arquivos de recursos e um link estático para as bibliotecas para a maioria das imposições de política.</span><span class="sxs-lookup"><span data-stu-id="1ad03-118">Mobile apps might simply include the resource files and statically link to the libraries for most policy enforcement.</span></span> <span data-ttu-id="1ad03-119">Recursos de MAM avançados do Intune são aplicados por meio de APIs.</span><span class="sxs-lookup"><span data-stu-id="1ad03-119">Advanced Intune MAM features are enforced through APIs.</span></span>

<span data-ttu-id="1ad03-120">Este guia aborda o uso dos seguintes componentes do SDK do Aplicativo do Intune para iOS:</span><span class="sxs-lookup"><span data-stu-id="1ad03-120">This guide covers the use of the following components of the Intune App SDK for iOS:</span></span>

* <span data-ttu-id="1ad03-121">**libIntuneMAM.a**: a biblioteca estática do SDK do Aplicativo do Intune.</span><span class="sxs-lookup"><span data-stu-id="1ad03-121">**libIntuneMAM.a**: The Intune App SDK static library.</span></span> <span data-ttu-id="1ad03-122">Se o aplicativo não usar extensões, vincule essa biblioteca ao seu projeto para habilitar a aplicativo para o gerenciamento de aplicativo móvel do Intune.</span><span class="sxs-lookup"><span data-stu-id="1ad03-122">If your app does not use extensions, link this library to your project to enable your app for Intune mobile application management.</span></span>

* <span data-ttu-id="1ad03-123">**IntuneMAM.framework**: a estrutura do SDK do Aplicativo do Intune.</span><span class="sxs-lookup"><span data-stu-id="1ad03-123">**IntuneMAM.framework**: The Intune App SDK framework.</span></span> <span data-ttu-id="1ad03-124">Vincule essa estrutura ao seu projeto para habilitar a aplicativo para o gerenciamento de aplicativo móvel do Intune.</span><span class="sxs-lookup"><span data-stu-id="1ad03-124">Link this framework to your project to enable your app for Intune mobile application management.</span></span> <span data-ttu-id="1ad03-125">Use a estrutura em vez da biblioteca estática se seu aplicativo usar extensões, para que o projeto não crie várias cópias da biblioteca estática.</span><span class="sxs-lookup"><span data-stu-id="1ad03-125">Use the framework instead of the static library if your app uses extensions, so that your project does not create multiple copies of the static library.</span></span>

* <span data-ttu-id="1ad03-126">**IntuneMAMResources.bundle**: um pacote de recursos que contém recursos dos quais o SDK depende.</span><span class="sxs-lookup"><span data-stu-id="1ad03-126">**IntuneMAMResources.bundle**: A resource bundle that has resources that the SDK relies on.</span></span>

* <span data-ttu-id="1ad03-127">**Cabeçalhos**: expõe as APIs do SDK do Intune App.</span><span class="sxs-lookup"><span data-stu-id="1ad03-127">**Headers**: Exposes the Intune App SDK APIs.</span></span> <span data-ttu-id="1ad03-128">Se você usar uma API, precisará incluir o arquivo de cabeçalho que contém a API.</span><span class="sxs-lookup"><span data-stu-id="1ad03-128">If you use an API, you will need to include the header file that contains the API.</span></span> <span data-ttu-id="1ad03-129">Os Arquivos de Cabeçalho a seguir incluem APIs, tipos de dados e protocolos que o SDK do aplicativo do Intune disponibiliza para desenvolvedores:</span><span class="sxs-lookup"><span data-stu-id="1ad03-129">The following header files include the APIs, data types, and protocols which the Intune App SDK makes available to developers:</span></span>

    * <span data-ttu-id="1ad03-130">IntuneMAMAppConfig.h</span><span class="sxs-lookup"><span data-stu-id="1ad03-130">IntuneMAMAppConfig.h</span></span>
    * <span data-ttu-id="1ad03-131">IntuneMAMAppConfigManager.h</span><span class="sxs-lookup"><span data-stu-id="1ad03-131">IntuneMAMAppConfigManager.h</span></span>
    * <span data-ttu-id="1ad03-132">IntuneMAMDataProtectionInfo.h</span><span class="sxs-lookup"><span data-stu-id="1ad03-132">IntuneMAMDataProtectionInfo.h</span></span>
    * <span data-ttu-id="1ad03-133">IntuneMAMDataProtectionManager.h</span><span class="sxs-lookup"><span data-stu-id="1ad03-133">IntuneMAMDataProtectionManager.h</span></span>
    * <span data-ttu-id="1ad03-134">IntuneMAMDefs.h</span><span class="sxs-lookup"><span data-stu-id="1ad03-134">IntuneMAMDefs.h</span></span>
    * <span data-ttu-id="1ad03-135">IntuneMAMEnrollmentDelegate.h</span><span class="sxs-lookup"><span data-stu-id="1ad03-135">IntuneMAMEnrollmentDelegate.h</span></span>
    * <span data-ttu-id="1ad03-136">IntuneMAMEnrollmentManager.h</span><span class="sxs-lookup"><span data-stu-id="1ad03-136">IntuneMAMEnrollmentManager.h</span></span>
    * <span data-ttu-id="1ad03-137">IntuneMAMEnrollmentStatus.h</span><span class="sxs-lookup"><span data-stu-id="1ad03-137">IntuneMAMEnrollmentStatus.h</span></span>
    * <span data-ttu-id="1ad03-138">IntuneMAMFileProtectionInfo.h</span><span class="sxs-lookup"><span data-stu-id="1ad03-138">IntuneMAMFileProtectionInfo.h</span></span>
    * <span data-ttu-id="1ad03-139">IntuneMAMFileProtectionManager.h</span><span class="sxs-lookup"><span data-stu-id="1ad03-139">IntuneMAMFileProtectionManager.h</span></span>
    * <span data-ttu-id="1ad03-140">IntuneMAMLogger.h</span><span class="sxs-lookup"><span data-stu-id="1ad03-140">IntuneMAMLogger.h</span></span>
    * <span data-ttu-id="1ad03-141">IntuneMAMPolicy.h</span><span class="sxs-lookup"><span data-stu-id="1ad03-141">IntuneMAMPolicy.h</span></span>
    * <span data-ttu-id="1ad03-142">IntuneMAMPolicyDelegate.h</span><span class="sxs-lookup"><span data-stu-id="1ad03-142">IntuneMAMPolicyDelegate.h</span></span>
    * <span data-ttu-id="1ad03-143">IntuneMAMPolicyManager.h</span><span class="sxs-lookup"><span data-stu-id="1ad03-143">IntuneMAMPolicyManager.h</span></span>
    * <span data-ttu-id="1ad03-144">IntuneMAMVersionInfo.h</span><span class="sxs-lookup"><span data-stu-id="1ad03-144">IntuneMAMVersionInfo.h</span></span>
    
<span data-ttu-id="1ad03-145">Para que os desenvolvedores possam disponibilizar o conteúdo de todos os cabeçalhos acima, basta apenas importar IntuneMAM.h</span><span class="sxs-lookup"><span data-stu-id="1ad03-145">Developers can make the contents of all the above headers available by just importing IntuneMAM.h</span></span>


## <a name="how-the-intune-app-sdk-works"></a><span data-ttu-id="1ad03-146">Como o SDK de Aplicativos do Intune funciona</span><span class="sxs-lookup"><span data-stu-id="1ad03-146">How the Intune App SDK works</span></span>

<span data-ttu-id="1ad03-147">O objetivo do SDK do Intune APP para iOS é adicionar recursos de gerenciamento de aplicativos a aplicativos iOS com alterações mínimas de código.</span><span class="sxs-lookup"><span data-stu-id="1ad03-147">The objective of the Intune App SDK for iOS is to add management capabilities to iOS applications with minimal code changes.</span></span> <span data-ttu-id="1ad03-148">Quanto menos alterações houver no código, menor será o tempo de chegada no mercado sem afetar a consistência e a estabilidade do aplicativo móvel.</span><span class="sxs-lookup"><span data-stu-id="1ad03-148">The fewer the code changes, the less time to market--without affecting the consistency and stability of your mobile application.</span></span>


## <a name="build-the-sdk-into-your-mobile-app"></a><span data-ttu-id="1ad03-149">Compilar o SDK em seu aplicativo móvel</span><span class="sxs-lookup"><span data-stu-id="1ad03-149">Build the SDK into your mobile app</span></span>

<span data-ttu-id="1ad03-150">Para habilitar o SDK de Aplicativo do Intune, siga estas etapas:</span><span class="sxs-lookup"><span data-stu-id="1ad03-150">To enable the Intune App SDK, follow these steps:</span></span>

1. <span data-ttu-id="1ad03-151">**Opção 1 (recomendado)**: vincule `IntuneMAM.framework` ao seu projeto.</span><span class="sxs-lookup"><span data-stu-id="1ad03-151">**Option 1 (recommended)**: Link `IntuneMAM.framework` to your project.</span></span> <span data-ttu-id="1ad03-152">Arraste `IntuneMAM.framework` para a lista **Binários inseridos** do destino do projeto.</span><span class="sxs-lookup"><span data-stu-id="1ad03-152">Drag `IntuneMAM.framework` to the **Embedded Binaries** list of the project target.</span></span>

    > [!NOTE]
    > <span data-ttu-id="1ad03-153">Se você usar a estrutura, precisará remover manualmente as arquiteturas de simulador da estrutura universal antes de enviar seu aplicativo à App Store.</span><span class="sxs-lookup"><span data-stu-id="1ad03-153">If you use the framework, you must manually strip out the simulator architectures from the universal framework before you submit your app to the App Store.</span></span> <span data-ttu-id="1ad03-154">Confira [Enviar seu aplicativo à App Store](#Submit-your-app-to-the-App-Store) para obter mais detalhes.</span><span class="sxs-lookup"><span data-stu-id="1ad03-154">See [Submit your app to the App Store](#Submit-your-app-to-the-App-Store) for more details.</span></span>

2. <span data-ttu-id="1ad03-155">**Opção 2**: Link para a biblioteca `libIntuneMAM.a`.</span><span class="sxs-lookup"><span data-stu-id="1ad03-155">**Option 2**: Link to the `libIntuneMAM.a` library.</span></span> <span data-ttu-id="1ad03-156">Arraste e solte a biblioteca `libIntuneMAM.a` na lista **Estruturas e Bibliotecas Vinculadas** do projeto de destino.</span><span class="sxs-lookup"><span data-stu-id="1ad03-156">Drag the `libIntuneMAM.a` library to the **Linked Frameworks and Libraries** list of the project target.</span></span>

    ![SDK do Aplicativo do Intune para iOS: estruturas e bibliotecas vinculadas](./media/intune-app-sdk-ios-linked-frameworks-and-libraries.png)

    > [!NOTE]
    > <span data-ttu-id="1ad03-158">Se você planeja lançar o aplicativo na App Store, use a versão de `libIntuneMAM.a` criada para a versão de lançamento e não para a versão de depuração.</span><span class="sxs-lookup"><span data-stu-id="1ad03-158">If you plan to release your app to the App Store, please use the version of `libIntuneMAM.a` that is built for release and not the debug version.</span></span> <span data-ttu-id="1ad03-159">A versão de lançamento estará na pasta **lançamento**.</span><span class="sxs-lookup"><span data-stu-id="1ad03-159">The release version will be in the **release** folder.</span></span> <span data-ttu-id="1ad03-160">A versão de depuração tem saída detalhada, o que ajuda a solucionar problemas com o SDK do Aplicativo do Intune.</span><span class="sxs-lookup"><span data-stu-id="1ad03-160">The debug version has verbose output that helps troubleshoot problems with the Intune App SDK.</span></span>

    <span data-ttu-id="1ad03-161">Adicione `-force_load {PATH_TO_LIB}/libIntuneMAM.a` a um dos seguintes, substituindo `{PATH_TO_LIB}` pelo local do SDK do Intune App:</span><span class="sxs-lookup"><span data-stu-id="1ad03-161">Add `-force_load {PATH_TO_LIB}/libIntuneMAM.a` to either of the following, replacing `{PATH_TO_LIB}` with the Intune App SDK location:</span></span>
      * <span data-ttu-id="1ad03-162">A definição de configuração de build `OTHER_LDFLAGS` do projeto</span><span class="sxs-lookup"><span data-stu-id="1ad03-162">The project’s `OTHER_LDFLAGS` build configuration setting</span></span>
      * <span data-ttu-id="1ad03-163">Os **Outros Sinalizadores do Vinculador** da interface do usuário</span><span class="sxs-lookup"><span data-stu-id="1ad03-163">The UI’s **Other Linker Flags**</span></span>

        > [!NOTE]
        > <span data-ttu-id="1ad03-164">Para encontrar `PATH_TO_LIB`, selecione o arquivo `libIntuneMAM.a` e escolha **Obter Informações** no menu **Arquivo**.</span><span class="sxs-lookup"><span data-stu-id="1ad03-164">To find `PATH_TO_LIB`, select the file `libIntuneMAM.a` and choose **Get Info** from the **File** menu.</span></span> <span data-ttu-id="1ad03-165">Copie e cole as informações **Onde** (o caminho) da seção **Geral** da janela **Informações**.</span><span class="sxs-lookup"><span data-stu-id="1ad03-165">Copy and paste the **Where** information (the path) from the **General** section of the **Info** window.</span></span>

3. <span data-ttu-id="1ad03-166">Adicione as seguintes estruturas de iOS ao projeto:</span><span class="sxs-lookup"><span data-stu-id="1ad03-166">Add these iOS frameworks to the project:</span></span>
    * <span data-ttu-id="1ad03-167">MessageUI.framework</span><span class="sxs-lookup"><span data-stu-id="1ad03-167">MessageUI.framework</span></span>
    * <span data-ttu-id="1ad03-168">Security.framework</span><span class="sxs-lookup"><span data-stu-id="1ad03-168">Security.framework</span></span>
    * <span data-ttu-id="1ad03-169">MobileCoreServices.framework</span><span class="sxs-lookup"><span data-stu-id="1ad03-169">MobileCoreServices.framework</span></span>
    * <span data-ttu-id="1ad03-170">SystemConfiguration.framework</span><span class="sxs-lookup"><span data-stu-id="1ad03-170">SystemConfiguration.framework</span></span>
    * <span data-ttu-id="1ad03-171">libsqlite3.tbd</span><span class="sxs-lookup"><span data-stu-id="1ad03-171">libsqlite3.tbd</span></span>
    * <span data-ttu-id="1ad03-172">libc++.tbd</span><span class="sxs-lookup"><span data-stu-id="1ad03-172">libc++.tbd</span></span>
    * <span data-ttu-id="1ad03-173">ImageIO.framework</span><span class="sxs-lookup"><span data-stu-id="1ad03-173">ImageIO.framework</span></span>
    * <span data-ttu-id="1ad03-174">LocalAuthentication.framework</span><span class="sxs-lookup"><span data-stu-id="1ad03-174">LocalAuthentication.framework</span></span>
    * <span data-ttu-id="1ad03-175">AudioToolbox.framework</span><span class="sxs-lookup"><span data-stu-id="1ad03-175">AudioToolbox.framework</span></span>


4. <span data-ttu-id="1ad03-176">Adicione o pacote de recursos `IntuneMAMResources.bundle` ao projeto arrastando-o para **Copiar Recursos do Pacote** em **Fases de Build**.</span><span class="sxs-lookup"><span data-stu-id="1ad03-176">Add the `IntuneMAMResources.bundle` resource bundle to the project by dragging the resource bundle under **Copy Bundle Resources** within **Build Phases**.</span></span>

    ![SDK de Aplicativo do Intune para iOS: copiar recursos do pacote](./media/intune-app-sdk-ios-copy-bundle-resources.png)

5. <span data-ttu-id="1ad03-178">Se seu aplicativo móvel definir um Nib ou Storyboard principal em seu Info.plist, recorte os campos do arquivo **Storyboard Principal** ou **Nib Principal**.</span><span class="sxs-lookup"><span data-stu-id="1ad03-178">If your mobile app defines a main nib or storyboard file in its Info.plist file, cut the **Main Storyboard** or **Main Nib** field(s).</span></span> <span data-ttu-id="1ad03-179">Em Info.plist, cole esses campos e seus valores correspondentes em um novo dicionário chamado **IntuneMAMSettings** com os seguintes nomes de chave, conforme aplicável:</span><span class="sxs-lookup"><span data-stu-id="1ad03-179">In Info.plist, paste these fields and their corresponding values under a new dictionary named **IntuneMAMSettings** with the following key names, as applicable:</span></span>
    * <span data-ttu-id="1ad03-180">MainStoryboardFile</span><span class="sxs-lookup"><span data-stu-id="1ad03-180">MainStoryboardFile</span></span>
    * <span data-ttu-id="1ad03-181">MainStoryboardFile~ipad</span><span class="sxs-lookup"><span data-stu-id="1ad03-181">MainStoryboardFile~ipad</span></span>
    * <span data-ttu-id="1ad03-182">MainNibFile</span><span class="sxs-lookup"><span data-stu-id="1ad03-182">MainNibFile</span></span>
    * <span data-ttu-id="1ad03-183">MainNibFile~ipad</span><span class="sxs-lookup"><span data-stu-id="1ad03-183">MainNibFile~ipad</span></span>
    > [!NOTE]
  > <span data-ttu-id="1ad03-184">Se seu aplicativo móvel não definir um arquivo nib ou storyboard em seu arquivo Info.plist, essas configurações não serão obrigatórias.</span><span class="sxs-lookup"><span data-stu-id="1ad03-184">If your mobile app doesn’t define a main nib or storyboard file in its Info.plist file, these settings are not required.</span></span>

    <span data-ttu-id="1ad03-185">Você pode exibir o Info.plist em formato bruto (para ver os nomes de chave) clicando com o botão direito do mouse em qualquer lugar do corpo do documento e alterando o tipo de exibição para **Mostrar Chaves/Valores Brutos**.</span><span class="sxs-lookup"><span data-stu-id="1ad03-185">You can view Info.plist in raw format (to see the key names) by right-clicking anywhere in the document body and changing the view type to **Show Raw Keys/Values**.</span></span>

6. <span data-ttu-id="1ad03-186">Habilite o compartilhamento de conjunto de chaves (se já não estiver habilitado) escolhendo em **Funcionalidades** em cada destino do projeto e habilitando a opção **Compartilhamento de Conjunto de Chaves**.</span><span class="sxs-lookup"><span data-stu-id="1ad03-186">Enable keychain sharing (if it isn't already enabled) by choosing **Capabilities** in each project target and enabling the **Keychain Sharing** switch.</span></span> <span data-ttu-id="1ad03-187">O compartilhamento de conjunto de chaves é necessário para que você prossiga para a próxima etapa.</span><span class="sxs-lookup"><span data-stu-id="1ad03-187">Keychain sharing is required for you to proceed to the next step.</span></span>

  > [!NOTE]
    > <span data-ttu-id="1ad03-188">O perfil de provisionamento precisa dar suporte aos novos valores de compartilhamento de conjunto de chaves.</span><span class="sxs-lookup"><span data-stu-id="1ad03-188">Your provisioning profile needs to support new keychain sharing values.</span></span> <span data-ttu-id="1ad03-189">Os grupos de acesso do conjunto de chaves devem dar suporte a um caractere curinga.</span><span class="sxs-lookup"><span data-stu-id="1ad03-189">The keychain access groups should support a wildcard character.</span></span> <span data-ttu-id="1ad03-190">Você pode verificar isso abrindo o arquivo .mobileprovision em um editor de texto, pesquisando por **keychain-access-groups** e incluindo um curinga.</span><span class="sxs-lookup"><span data-stu-id="1ad03-190">You can check this by opening the .mobileprovision file in a text editor, searching for **keychain-access-groups**, and ensuring that you have a wildcard.</span></span> <span data-ttu-id="1ad03-191">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="1ad03-191">For example:</span></span>
    ```xml
    <key>keychain-access-groups</key>
    <array>
    <string>YOURBUNDLESEEDID.*</string>
    </array>
    ```

7. <span data-ttu-id="1ad03-192">Depois que você habilitar o compartilhamento de conjunto de chaves, siga estas etapas para criar um grupo de acesso separado no qual os dados do SDK de Aplicativo do Intune serão armazenados.</span><span class="sxs-lookup"><span data-stu-id="1ad03-192">After you enable keychain sharing, follow these steps to create a separate access group in which the Intune App SDK will store its data.</span></span> <span data-ttu-id="1ad03-193">Você pode criar um grupo de acesso do conjunto de chaves usando a interface do usuário ou o arquivo de direitos.</span><span class="sxs-lookup"><span data-stu-id="1ad03-193">You can create a keychain access group by using the UI or by using the entitlements file.</span></span> <span data-ttu-id="1ad03-194">Se você estiver usando a interface do usuário para criar o grupo de acesso do conjunto de chaves, execute as etapas abaixo:</span><span class="sxs-lookup"><span data-stu-id="1ad03-194">If you are using the UI to create the keychain access group, make sure to follow the steps below:</span></span>

    1. <span data-ttu-id="1ad03-195">Se seu aplicativo móvel não tiver grupos de acesso do conjunto de chaves definidos, adicione a ID do pacote do aplicativo como o primeiro grupo.</span><span class="sxs-lookup"><span data-stu-id="1ad03-195">If your mobile app does not have any keychain access groups defined, add the app’s bundle ID as the first group.</span></span>

    2. <span data-ttu-id="1ad03-196">Adicione o grupo de conjunto de chaves compartilhado `com.microsoft.intune.mam` aos grupos de acesso existentes.</span><span class="sxs-lookup"><span data-stu-id="1ad03-196">Add the shared keychain group `com.microsoft.intune.mam` to your existing access groups.</span></span> <span data-ttu-id="1ad03-197">Este grupo de acesso é usado pelo SDK de Aplicativo do Intune para armazenar dados.</span><span class="sxs-lookup"><span data-stu-id="1ad03-197">The Intune App SDK uses this access group to store data.</span></span>

    3. <span data-ttu-id="1ad03-198">Adicione `com.microsoft.adalcache` a seus grupos de acesso existentes.</span><span class="sxs-lookup"><span data-stu-id="1ad03-198">Add `com.microsoft.adalcache` to your existing access groups.</span></span>

        4. <span data-ttu-id="1ad03-199">Adicione `com.microsoft.workplacejoin` a seus grupos de acesso existentes.</span><span class="sxs-lookup"><span data-stu-id="1ad03-199">Add `com.microsoft.workplacejoin` to your existing access groups.</span></span>
            <span data-ttu-id="1ad03-200">![SDK de Aplicativo do Intune para iOS: compartilhamento de conjunto de chaves](./media/intune-app-sdk-ios-keychain-sharing.png)</span><span class="sxs-lookup"><span data-stu-id="1ad03-200">![Intune App SDK iOS: keychain sharing](./media/intune-app-sdk-ios-keychain-sharing.png)</span></span>

    5. <span data-ttu-id="1ad03-201">Se você estiver usando o arquivo de direitos para criar o grupo de acesso do conjunto de chaves, você precisará acrescentar `$(AppIdentifierPrefix)` no início do arquivo de direito do grupo de acesso de conjunto de chaves.</span><span class="sxs-lookup"><span data-stu-id="1ad03-201">If you are using the entitlement file to create the keychain access group, prepend the keychain access group with `$(AppIdentifierPrefix)` in the entitlement file.</span></span> <span data-ttu-id="1ad03-202">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="1ad03-202">For example:</span></span>

            * `$(AppIdentifierPrefix)com.microsoft.intune.mam`
            * `$(AppIdentifierPrefix)com.microsoft.adalcache`

    > [!NOTE]
    > <span data-ttu-id="1ad03-203">Um arquivo de direitos é um arquivo XML que é exclusivo para seu aplicativo móvel.</span><span class="sxs-lookup"><span data-stu-id="1ad03-203">An entitlements file is an XML file that's unique to your mobile application.</span></span> <span data-ttu-id="1ad03-204">Ele é usado para especificar funcionalidades e permissões especiais em seu aplicativo iOS.</span><span class="sxs-lookup"><span data-stu-id="1ad03-204">It is used to specify special permissions and capabilities in your iOS app.</span></span>

8. <span data-ttu-id="1ad03-205">Se o aplicativo definir esquemas de URL em seu arquivo info.plist, adicione outro esquema com um sufixo `-intunemam` a cada esquema de URL.</span><span class="sxs-lookup"><span data-stu-id="1ad03-205">If the app defines URL schemes in its Info.plist file, add another scheme, with a `-intunemam` suffix, for each URL scheme.</span></span>

9. <span data-ttu-id="1ad03-206">Quando o aplicativo define Tipos de Documento no arquivo Info.plist para a matriz "UTIs do Tipo de Conteúdo de Documento" de cada item, adicione uma entrada duplicada para cada cadeia de caracteres com "com.microsoft.intune.mam".</span><span class="sxs-lookup"><span data-stu-id="1ad03-206">If the app defines Document types in its Info.plist file, for each item's "Document Content Type UTIs" array, add a duplicate entry for each string with a "com.microsoft.intune.mam."</span></span> <span data-ttu-id="1ad03-207">Prefixo.</span><span class="sxs-lookup"><span data-stu-id="1ad03-207">prefix.</span></span>

10. <span data-ttu-id="1ad03-208">Para aplicativos móveis desenvolvidos no iOS 9 e posterior, inclua todos os protocolos que o aplicativo passar para `UIApplication canOpenURL` na matriz `LSApplicationQueriesSchemes` do arquivo Info.plist do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="1ad03-208">For mobile apps developed on iOS 9+, include each protocol that your app passes to `UIApplication canOpenURL` in the `LSApplicationQueriesSchemes` array of your app's Info.plist file.</span></span> <span data-ttu-id="1ad03-209">Além disso, para cada protocolo listado, adicione um novo protocolo e acrescente `-intunemam` a ele.</span><span class="sxs-lookup"><span data-stu-id="1ad03-209">Additionally, for each protocol listed, add a new protocol and append it with `-intunemam`.</span></span> <span data-ttu-id="1ad03-210">Você também deve incluir `http-intunemam`, `https-intunemam`e `ms-outlook-intunemam` na matriz.</span><span class="sxs-lookup"><span data-stu-id="1ad03-210">You must also include `http-intunemam`, `https-intunemam`, and `ms-outlook-intunemam` in the array.</span></span>

11. <span data-ttu-id="1ad03-211">Se o aplicativo tiver grupos de aplicativo definidos em seus direitos, adicione esses grupos ao dicionário **IntuneMAMSettings** sob a chave `AppGroupIdentifiers` como uma matriz de cadeias de caracteres.</span><span class="sxs-lookup"><span data-stu-id="1ad03-211">If the app has app groups defined in its entitlements, add these groups to the **IntuneMAMSettings** dictionary under the `AppGroupIdentifiers` key as an array of strings.</span></span>



## <a name="configure-azure-active-directory-authentication-library-adal"></a><span data-ttu-id="1ad03-212">Configurar a ADAL (Biblioteca de Autenticação do Azure Active Directory)</span><span class="sxs-lookup"><span data-stu-id="1ad03-212">Configure Azure Active Directory Authentication Library (ADAL)</span></span>

<span data-ttu-id="1ad03-213">O SDK de Aplicativo do Intune usa a [Biblioteca de Autenticação do Azure Active Directory](https://github.com/AzureAD/azure-activedirectory-library-for-objc) para seus cenários de inicialização condicional e autenticação.</span><span class="sxs-lookup"><span data-stu-id="1ad03-213">The Intune App SDK uses [Azure Active Directory Authentication Library](https://github.com/AzureAD/azure-activedirectory-library-for-objc) for its authentication and conditional launch scenarios.</span></span> <span data-ttu-id="1ad03-214">Ele também se baseia na ADAL para registrar a identidade do usuário no serviço de MAM para gerenciamento sem cenários de registro de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="1ad03-214">It also relies on ADAL to register the user identity with the MAM service for management without device enrollment scenarios.</span></span>

<span data-ttu-id="1ad03-215">Normalmente, a ADAL requer que os aplicativos se registrem no Azure Active Directory (AAD) e obtenham uma ID exclusiva (ID do cliente), entre outros identificadores, para assegurar a segurança dos tokens concedidos ao aplicativo.</span><span class="sxs-lookup"><span data-stu-id="1ad03-215">Typically, ADAL requires apps to register with Azure Active Directory (AAD) and get a unique ID (Client ID) and other identifiers, to guarantee the security of the tokens granted to the app.</span></span> <span data-ttu-id="1ad03-216">A menos que seja especificado de outra forma, o SDK de Aplicativo do Intune usa valores de registro padrão ao contatar o Azure AD.</span><span class="sxs-lookup"><span data-stu-id="1ad03-216">Unless otherwise specified, the Intune App SDK uses default registration values when it contacts Azure AD.</span></span>  

<span data-ttu-id="1ad03-217">Se o aplicativo já usar a ADAL para autenticar usuários, o aplicativo deverá usar seus valores de registro existentes e substituir os valores padrão do SDK de Aplicativo do Intune.</span><span class="sxs-lookup"><span data-stu-id="1ad03-217">If your app already uses ADAL to authenticate users, the app must use its existing registration values and override the Intune App SDK default values.</span></span> <span data-ttu-id="1ad03-218">Isso garante que a autenticação não seja solicitada duas vezes dos usuários (uma vez pelo SDK de Aplicativo do Intune e uma vez pelo aplicativo).</span><span class="sxs-lookup"><span data-stu-id="1ad03-218">This ensures that users are not prompted for authentication twice (once by the Intune App SDK and once by the app).</span></span>

### <a name="recommendations"></a><span data-ttu-id="1ad03-219">Recomendações</span><span class="sxs-lookup"><span data-stu-id="1ad03-219">Recommendations</span></span>

<span data-ttu-id="1ad03-220">Recomendamos que seu aplicativo tenha links para a [versão mais recente da ADAL](https://github.com/AzureAD/azure-activedirectory-library-for-objc/releases) em sua ramificação mestre.</span><span class="sxs-lookup"><span data-stu-id="1ad03-220">It is recommended that your app links to the [latest version of ADAL](https://github.com/AzureAD/azure-activedirectory-library-for-objc/releases) on its master branch.</span></span> <span data-ttu-id="1ad03-221">Atualmente, o SDK de Aplicativo do Intune usa a ramificação do agente da ADAL para dar suporte a aplicativos que precisam de acesso condicional.</span><span class="sxs-lookup"><span data-stu-id="1ad03-221">The Intune App SDK currently uses the broker branch of ADAL to support apps that require conditional access.</span></span> <span data-ttu-id="1ad03-222">(Esses aplicativos, portanto, dependem do aplicativo Microsoft Authenticator.) No entanto, o SDK é ainda compatível com a ramificação mestre da ADAL.</span><span class="sxs-lookup"><span data-stu-id="1ad03-222">(These apps therefore depend on the Microsoft Authenticator app.) But the SDK is still compatible with the master branch of ADAL.</span></span> <span data-ttu-id="1ad03-223">Use a ramificação apropriada para seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="1ad03-223">Use the branch that is appropriate for your app.</span></span>

### <a name="link-to-adal-binaries"></a><span data-ttu-id="1ad03-224">Vincular a binários da ADAL</span><span class="sxs-lookup"><span data-stu-id="1ad03-224">Link to ADAL binaries</span></span>

<span data-ttu-id="1ad03-225">Execute estas etapas para vincular seu aplicativo aos binários do ADAL:</span><span class="sxs-lookup"><span data-stu-id="1ad03-225">Follow the steps below to link your app to the ADAL binaries:</span></span>

1. <span data-ttu-id="1ad03-226">Baixe a [Biblioteca de Autenticação do Azure Active Directory (ADAL) para Objective-C](https://github.com/AzureAD/azure-activedirectory-library-for-objc) do GitHub e siga as [instruções](https://github.com/AzureAD/azure-activedirectory-library-for-objc/blob/master/README.md) sobre como baixar a ADAL usando submódulos do Git ou CocoaPods.</span><span class="sxs-lookup"><span data-stu-id="1ad03-226">Download the [Azure Active Directory Authentication Library (ADAL) for Objective-C](https://github.com/AzureAD/azure-activedirectory-library-for-objc) from GitHub, then follow the [instructions](https://github.com/AzureAD/azure-activedirectory-library-for-objc/blob/master/README.md) on how to download ADAL using Git submodules or CocoaPods.</span></span>

2. <span data-ttu-id="1ad03-227">Inclua o pacote de recursos `ADALiOSBundle.bundle` no projeto arrastando-o para **Copiar Recursos do Pacote** em **Fases de Build**.</span><span class="sxs-lookup"><span data-stu-id="1ad03-227">Include the `ADALiOSBundle.bundle` resource bundle in the project by dragging the resource bundle under **Copy Bundle Resources** within **Build Phases**.</span></span>

3. <span data-ttu-id="1ad03-228">Adicione `-force_load {PATH_TO_LIB}/libADALiOS.a` à definição de configuração de build `OTHER_LDFLAGS` do projeto ou **Outros Sinalizadores do Vinculador** na interface do usuário.</span><span class="sxs-lookup"><span data-stu-id="1ad03-228">Add `-force_load {PATH_TO_LIB}/libADALiOS.a` to the project’s `OTHER_LDFLAGS` build configuration setting or **Other Linker Flags** in the UI.</span></span> <span data-ttu-id="1ad03-229">`PATH_TO_LIB` deve ser substituído pelo local dos binários da ADAL.</span><span class="sxs-lookup"><span data-stu-id="1ad03-229">`PATH_TO_LIB` should be replaced with the location of the ADAL binaries.</span></span>



### <a name="share-the-adal-token-cache-with-other-apps-signed-with-the-same-provisioning-profile"></a><span data-ttu-id="1ad03-230">Compartilhar o cache do token da ADAL com outros aplicativos assinados com o mesmo perfil de provisionamento?**</span><span class="sxs-lookup"><span data-stu-id="1ad03-230">Share the ADAL token cache with other apps signed with the same provisioning profile?**</span></span>

<span data-ttu-id="1ad03-231">Se você quiser compartilhar tokens ADAL entre aplicativos assinados com o mesmo perfil de provisionamento, siga as instruções abaixo:</span><span class="sxs-lookup"><span data-stu-id="1ad03-231">Follow the instructions below if you want to share ADAL tokens between apps signed with the same provisioning profile:</span></span>

1. <span data-ttu-id="1ad03-232">Se o seu aplicativo não tiver grupos de acesso do conjunto de chaves definidos, adicione a ID do pacote do aplicativo como o primeiro grupo.</span><span class="sxs-lookup"><span data-stu-id="1ad03-232">If your app does not have any keychain access groups defined, add the app’s bundle ID as the first group.</span></span>

2. <span data-ttu-id="1ad03-233">Habilite o SSO (logon único) da ADAL adicionando os grupos de acesso `com.microsoft.adalcache` e `com.microsoft.workplacejoin` nos direitos do conjunto de chaves.</span><span class="sxs-lookup"><span data-stu-id="1ad03-233">Enable ADAL single sign-on (SSO) by adding `com.microsoft.adalcache` and `com.microsoft.workplacejoin` access groups in the keychain entitlements.</span></span>

3. <span data-ttu-id="1ad03-234">Caso você esteja definindo explicitamente o grupo de conjunto de chaves do cache compartilhado da ADAL, certifique-se de que ele seja definido como `<app_id_prefix>.com.microsoft.adalcache`.</span><span class="sxs-lookup"><span data-stu-id="1ad03-234">If you are explicitly setting the ADAL shared cache keychain group, make sure it is set to `<app_id_prefix>.com.microsoft.adalcache`.</span></span> <span data-ttu-id="1ad03-235">A ADAL definirá isso para você a menos que você faça uma substituição.</span><span class="sxs-lookup"><span data-stu-id="1ad03-235">ADAL will set this for you unless you override it.</span></span> <span data-ttu-id="1ad03-236">Se você quiser especificar um grupo de conjunto de chaves personalizado para substituir `com.microsoft.adalcache`, especifique isso no arquivo Info.plist em "IntuneMAMSettings", usando a chave `ADALCacheKeychainGroupOverride`.</span><span class="sxs-lookup"><span data-stu-id="1ad03-236">If you want to specify a custom keychain group to replace `com.microsoft.adalcache`, specify that in the Info.plist file under IntuneMAMSettings, by using the key `ADALCacheKeychainGroupOverride`.</span></span>

### <a name="configure-adal-settings-for-the-intune-app-sdk"></a><span data-ttu-id="1ad03-237">Definir as configurações de ADAL para o SDK do Aplicativo do Intune</span><span class="sxs-lookup"><span data-stu-id="1ad03-237">Configure ADAL settings for the Intune App SDK</span></span>

<span data-ttu-id="1ad03-238">Se o seu aplicativo já usar a ADAL para autenticação e tiver suas próprias configurações de ADAL, force o SDK de Aplicativo do Intune a usar as mesmas configurações durante a autenticação no Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="1ad03-238">If your app already uses ADAL for authentication and has its own ADAL settings, you can force the Intune App SDK to use the same settings during authentication against Azure Active Directory.</span></span> <span data-ttu-id="1ad03-239">Isso garantirá que o aplicativo não solicitará a autenticação duas vezes ao usuário.</span><span class="sxs-lookup"><span data-stu-id="1ad03-239">This ensures that the app will not double-prompt the user for authentication.</span></span> <span data-ttu-id="1ad03-240">Veja [Definir as configurações do SDK do Aplicativo do Intune](#configure-settings-for-the-intune-app-sdk) para obter informações sobre como popular as seguintes configurações:</span><span class="sxs-lookup"><span data-stu-id="1ad03-240">See [Configure settings for the Intune App SDK](#configure-settings-for-the-intune-app-sdk) for information on populating the following settings:</span></span>  

* <span data-ttu-id="1ad03-241">ADALClientId</span><span class="sxs-lookup"><span data-stu-id="1ad03-241">ADALClientId</span></span>
* <span data-ttu-id="1ad03-242">ADALAuthority</span><span class="sxs-lookup"><span data-stu-id="1ad03-242">ADALAuthority</span></span>
* <span data-ttu-id="1ad03-243">ADALRedirectUri</span><span class="sxs-lookup"><span data-stu-id="1ad03-243">ADALRedirectUri</span></span>
* <span data-ttu-id="1ad03-244">ADALRedirectScheme</span><span class="sxs-lookup"><span data-stu-id="1ad03-244">ADALRedirectScheme</span></span>
* <span data-ttu-id="1ad03-245">ADALCacheKeychainGroupOverride</span><span class="sxs-lookup"><span data-stu-id="1ad03-245">ADALCacheKeychainGroupOverride</span></span>

<span data-ttu-id="1ad03-246">Se o seu aplicativo já usar a ADAL, as configurações a seguir serão necessárias:</span><span class="sxs-lookup"><span data-stu-id="1ad03-246">If your app already uses ADAL, the following configurations are required:</span></span>

1. <span data-ttu-id="1ad03-247">No arquivo Info.plist do projeto, no dicionário **IntuneMAMSettings** com o nome de chave `ADALClientId`, especifique a ID do cliente a ser usada para chamadas da ADAL.</span><span class="sxs-lookup"><span data-stu-id="1ad03-247">In the project’s Info.plist file, under the **IntuneMAMSettings** dictionary with the key name `ADALClientId`, specify the client ID to be used for ADAL calls.</span></span>

2. <span data-ttu-id="1ad03-248">Também no dicionário **IntuneMAMSettings** com o nome de chave `ADALAuthority`, especifique a autoridade do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="1ad03-248">Also under the **IntuneMAMSettings** dictionary with the key name `ADALAuthority`, specify the Azure AD authority.</span></span>

3. <span data-ttu-id="1ad03-249">Também no dicionário **IntuneMAMSettings** com o nome de chave `ADALRedirectUri`, especifique o URI de redirecionamento a ser usado para chamadas da ADAL.</span><span class="sxs-lookup"><span data-stu-id="1ad03-249">Also under the **IntuneMAMSettings** dictionary with the key name `ADALRedirectUri`, specify the redirect URI to be used for ADAL calls.</span></span> <span data-ttu-id="1ad03-250">Você também precisa especificar o `ADALRedirectScheme` dependendo do formato de URI de redirecionamento do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="1ad03-250">You might also need to specify `ADALRedirectScheme`, depending on the format of your app’s redirect URI.</span></span>


<span data-ttu-id="1ad03-251">Além disso, você pode substituir a URL de Autoridade do Azure AD por uma URL específica do locatário fornecida no tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="1ad03-251">Additionally, you can override the Azure AD Authority URL with a tenant-specific URL at runtime.</span></span> <span data-ttu-id="1ad03-252">Para fazer isso, basta definir a propriedade `aadAuthorityUriOverride` na instância `IntuneMAMPolicyManager`.</span><span class="sxs-lookup"><span data-stu-id="1ad03-252">To do this, simply set the `aadAuthorityUriOverride` property on the `IntuneMAMPolicyManager` instance.</span></span>

> [!NOTE]
> <span data-ttu-id="1ad03-253">A configuração da URL de Autoridade do AAD é obrigatória para [APP sem registro do dispositivo](#App-protection-policy-without-device-enrollment) para permitir que o SDK reutilize o token de atualização do ADAL buscado pelo aplicativo.</span><span class="sxs-lookup"><span data-stu-id="1ad03-253">Setting the AAD Authority URL is required for [APP without device enrollment](#App-protection-policy-without-device-enrollment) to let the SDK reuse the ADAL refresh token fetched by the app.</span></span>

<span data-ttu-id="1ad03-254">O SDK continuará usando essa URL da autoridade para atualização da política e todas as solicitações de registro posteriores, a menos que o valor seja apagado ou alterado.</span><span class="sxs-lookup"><span data-stu-id="1ad03-254">The SDK will continue to use this authority URL for policy refresh and any subsequent enrollment requests, unless the value is cleared or changed.</span></span>  <span data-ttu-id="1ad03-255">Portanto, é importante apagar o valor quando um usuário gerenciado sai do aplicativo e para redefini-lo quando um novo usuário gerenciado entrar.</span><span class="sxs-lookup"><span data-stu-id="1ad03-255">Therefore, it is important to clear the value when a managed user signs out of the app and to reset the value when a new managed user signs in.</span></span>

### <a name="if-your-app-does-not-use-adal"></a><span data-ttu-id="1ad03-256">Se o seu aplicativo não usar a ADAL</span><span class="sxs-lookup"><span data-stu-id="1ad03-256">If your app does not use ADAL</span></span>

<span data-ttu-id="1ad03-257">Se seu aplicativo não usar a ADAL, o SDK de Aplicativo do Intune fornecerá valores padrão para parâmetros ADAL e lidará com a autenticação no Azure AD.</span><span class="sxs-lookup"><span data-stu-id="1ad03-257">If your app does not use ADAL, the Intune App SDK will provide default values for ADAL parameters and handle authentication against Azure AD.</span></span> <span data-ttu-id="1ad03-258">Você não precisa especificar qualquer valor para as configurações de ADAL listadas acima.</span><span class="sxs-lookup"><span data-stu-id="1ad03-258">You do not have to specify any values for the ADAL settings listed above.</span></span>

## <a name="app-protection-policy-without-device-enrollment"></a><span data-ttu-id="1ad03-259">Política de proteção do aplicativo sem registro de dispositivo</span><span class="sxs-lookup"><span data-stu-id="1ad03-259">App protection policy without device enrollment</span></span>

### <a name="overview"></a><span data-ttu-id="1ad03-260">Visão geral</span><span class="sxs-lookup"><span data-stu-id="1ad03-260">Overview</span></span>
<span data-ttu-id="1ad03-261">Política de proteção de aplicativo do Intune sem registro do dispositivo, também conhecido como **APP-WE** ou MAM-WE, permite que os aplicativos sejam gerenciados pelo Intune sem a necessidade de o dispositivo ser registrado no Gerenciamento de Dispositivo Móvel (MDM) do Intune.</span><span class="sxs-lookup"><span data-stu-id="1ad03-261">Intune app protection policy without device enrollment, also known as **APP-WE** or MAM-WE, allows apps to be managed by Intune without the need for the device to be enrolled Intune mobile device management (MDM).</span></span> <span data-ttu-id="1ad03-262">Para oferecer suporte a essa nova funcionalidade, o aplicativo deverá participar para registrar as contas de usuário para o gerenciamento.</span><span class="sxs-lookup"><span data-stu-id="1ad03-262">To support this new functionality, the app must participate to register user accounts for management.</span></span> <span data-ttu-id="1ad03-263">Para usar as novas APIs, siga estas etapas:</span><span class="sxs-lookup"><span data-stu-id="1ad03-263">To use the new APIs, follow these steps:</span></span>

1. <span data-ttu-id="1ad03-264">Use a versão mais recente do SDK de Aplicativo do Intune, que dá suporte ao gerenciamento de aplicativos com ou sem registro de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="1ad03-264">Use the latest release of the Intune App SDK, which supports management of apps with or without device enrollment.</span></span>

2. <span data-ttu-id="1ad03-265">Adicione IntuneMAMEnrollment.h a todos os arquivos que chamarão as APIs.</span><span class="sxs-lookup"><span data-stu-id="1ad03-265">Add IntuneMAMEnrollment.h to any files that will call the APIs.</span></span>

### <a name="register-user-accounts"></a><span data-ttu-id="1ad03-266">Registrar as contas de usuário</span><span class="sxs-lookup"><span data-stu-id="1ad03-266">Register user accounts</span></span>

<span data-ttu-id="1ad03-267">Um aplicativo poderá receber a política de proteção do aplicativo do serviço do Intune se o aplicativo estiver registrado com um serviço APP-WE em nome de uma conta de usuário especificada.</span><span class="sxs-lookup"><span data-stu-id="1ad03-267">An app can receive app protection policy from the Intune service if the app enrolls with the APP-WE service on behalf of a specified user account.</span></span> <span data-ttu-id="1ad03-268">É responsabilidade do aplicativo registrar qualquer usuário conectado recentemente com o SDK.</span><span class="sxs-lookup"><span data-stu-id="1ad03-268">The app is responsible for registering any newly signed-in user with the SDK.</span></span> <span data-ttu-id="1ad03-269">Após a nova conta de usuário ser autenticada, o aplicativo deve chamar o método `registerAndEnrollAccount` encontrado em Headers/IntuneMAMEnrollment.h:</span><span class="sxs-lookup"><span data-stu-id="1ad03-269">After the new user account has been authenticated, the app should call the `registerAndEnrollAccount` method in Headers/IntuneMAMEnrollment.h:</span></span>

```objc
/**


 *  This method will add the account to the list of registered accounts.
 *  An enrollment request will immediately be started.
 *  @param identity The UPN of the account to be registered with the SDK
 */

(void)registerAndEnrollAccount:(NSString *)identity;

```
<span data-ttu-id="1ad03-270">Chamando o método `registerAndEnrollAccount`, o SDK registrará a conta de usuário e tentará registrar o aplicativo em nome dessa conta.</span><span class="sxs-lookup"><span data-stu-id="1ad03-270">By calling the `registerAndEnrollAccount` method, the SDK will register the user account and attempt to enroll the app on behalf of this account.</span></span> <span data-ttu-id="1ad03-271">Se o registro falhar por algum motivo, o SDK automaticamente tentará realizar o registro novamente após 24 horas.</span><span class="sxs-lookup"><span data-stu-id="1ad03-271">If the enrollment fails for any reason, the SDK will automatically retry the enrollment 24 hours later.</span></span> <span data-ttu-id="1ad03-272">Para fins de depuração, o aplicativo pode receber notificações, por meio de um delegado, sobre os resultados das solicitações de registro.</span><span class="sxs-lookup"><span data-stu-id="1ad03-272">For debugging purposes, the app can receive notifications, via a delegate, about the results of any enrollment requests.</span></span>

<span data-ttu-id="1ad03-273">Depois de invocar essa API, o aplicativo poderá continuar funcionando normalmente.</span><span class="sxs-lookup"><span data-stu-id="1ad03-273">After this API has been invoked, the app can continue to function as normal.</span></span> <span data-ttu-id="1ad03-274">Se o registro for bem-sucedido, o SDK notificará o usuário se que uma reinicialização do aplicativo é necessária.</span><span class="sxs-lookup"><span data-stu-id="1ad03-274">If the enrollment succeeds, the SDK will notify the user that an app restart is required.</span></span> <span data-ttu-id="1ad03-275">Nesse momento, o usuário poderá reiniciar o aplicativo imediatamente.</span><span class="sxs-lookup"><span data-stu-id="1ad03-275">At that time, the user can immediately restart the app.</span></span>

### <a name="deregister-user-accounts"></a><span data-ttu-id="1ad03-276">Cancelar o registro de contas de usuário</span><span class="sxs-lookup"><span data-stu-id="1ad03-276">Deregister user accounts</span></span>

<span data-ttu-id="1ad03-277">Antes que um usuário seja desconectado de um aplicativo, o aplicativo deve cancelar o registro do usuário do SDK.</span><span class="sxs-lookup"><span data-stu-id="1ad03-277">Before a user is signed out of an app, the app should deregister the user from the SDK.</span></span> <span data-ttu-id="1ad03-278">Isso garantirá que:</span><span class="sxs-lookup"><span data-stu-id="1ad03-278">This will ensure:</span></span>

1. <span data-ttu-id="1ad03-279">novas tentativas de registro na conta do usuário deixem de ser feitas.</span><span class="sxs-lookup"><span data-stu-id="1ad03-279">Enrollment retries will no longer happen for the user’s account.</span></span>

2. <span data-ttu-id="1ad03-280">A política de proteção do aplicativo será removida.</span><span class="sxs-lookup"><span data-stu-id="1ad03-280">App protection policy will be removed.</span></span>

3. <span data-ttu-id="1ad03-281">Se o aplicativo iniciar um apagamento seletivo (opcional), todos os dados corporativos serão excluídos.</span><span class="sxs-lookup"><span data-stu-id="1ad03-281">If the app initiates a selective wipe (optional), any corporate data is deleted.</span></span>

<span data-ttu-id="1ad03-282">Antes que o usuário seja desconectado, o aplicativo deverá chamar a seguinte API em `Headers/IntuneMAMEnrollment.h`:</span><span class="sxs-lookup"><span data-stu-id="1ad03-282">Before the user is signed out, the app should call the following API in `Headers/IntuneMAMEnrollment.h`:</span></span>

```objc
/*
 *  This method will remove the provided account from the list of
 *  registered accounts.  Once removed, if the account has enrolled
 *  the application, the account will be un-enrolled.
 *  @note In the case where an un-enroll is required, this method will block
 *  until the Intune MAM AAD token is acquired, then return.  This method must be called before  
 *  the user is removed from the application (so that required AAD tokens are not purged
 *  before this method is called).
 *  @param identity The UPN of the account to be removed.
 *  @param doWipe   If YES, a selective wipe if the account is un-enrolled
 */

(void)deRegisterAndUnenrollAccount:(NSString *)identity withWipe:(BOOL)doWipe;
```

<span data-ttu-id="1ad03-283">Esse método deve ser chamado antes que os tokens do Azure AD da conta do usuário sejam excluídos.</span><span class="sxs-lookup"><span data-stu-id="1ad03-283">This method must be called before the user account’s Azure AD tokens are deleted.</span></span> <span data-ttu-id="1ad03-284">O SDK precisa do token do AAD da conta do usuário para fazer solicitações específicas ao serviço de APP-WE em nome do usuário.</span><span class="sxs-lookup"><span data-stu-id="1ad03-284">The SDK needs the user account’s AAD token(s) to make specific requests to the APP-WE service on behalf of the user.</span></span>

<span data-ttu-id="1ad03-285">Se o aplicativo for, por conta própria, excluir dados corporativos do usuário, o sinalizador `doWipe` poderá ser definido como falso.</span><span class="sxs-lookup"><span data-stu-id="1ad03-285">If the app will delete the user’s corporate data on its own, the `doWipe` flag can be set to false.</span></span> <span data-ttu-id="1ad03-286">Caso contrário, o aplicativo pode fazer o SDK iniciar um apagamento seletivo.</span><span class="sxs-lookup"><span data-stu-id="1ad03-286">Otherwise, the app can have the SDK initiate a selective wipe.</span></span> <span data-ttu-id="1ad03-287">Isso resultará em uma chamada ao delegado de apagamento seletivo do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="1ad03-287">This will result in a call to the app's selective wipe delegate.</span></span>

```objc
[[IntuneMAMEnrollmentManager instance] deRegisterAndUnenrollAccount:@”user@foo.com” withWipe:YES];
```

### <a name="apps-that-do-not-use-adal"></a><span data-ttu-id="1ad03-288">Aplicativos que não usam a ADAL</span><span class="sxs-lookup"><span data-stu-id="1ad03-288">Apps that do not use ADAL</span></span>

<span data-ttu-id="1ad03-289">Os aplicativos que não conectam o usuário usando ADAL ainda poderão receber a política de proteção do aplicativo do serviço do Intune pela chamada à API, para que o SDK manipule a autenticação.</span><span class="sxs-lookup"><span data-stu-id="1ad03-289">Apps that do not sign in the user using ADAL can still receive app protection policy from the Intune service by calling the API to have the SDK handle that authentication.</span></span> <span data-ttu-id="1ad03-290">Os aplicativos deverão usar essa técnica quando não autenticaram um usuário ao Azure AD, mas ainda precisarem recuperar a política de proteção do aplicativo para ajudar a proteger os dados.</span><span class="sxs-lookup"><span data-stu-id="1ad03-290">Apps should use this technique when they have not authenticated a user with Azure AD but still need to retrieve app protection policy to help protect data.</span></span> <span data-ttu-id="1ad03-291">Um exemplo é se outro serviço de autenticação estiver sendo usado para entrar no aplicativo ou se o aplicativo não oferecer nenhum suporte para entrar.</span><span class="sxs-lookup"><span data-stu-id="1ad03-291">An example is if another authentication service is being used for app sign-in, or if the app does not support signing in at all.</span></span> <span data-ttu-id="1ad03-292">Para fazer isso, o aplicativo deve chamar o método `loginAndEnrollAccount` em Headers/IntuneMAMEnrollment.h:</span><span class="sxs-lookup"><span data-stu-id="1ad03-292">To do this, the application should call the `loginAndEnrollAccount`  method in Headers/IntuneMAMEnrollment.h:</span></span>

```objc
/**
 *  Creates an enrollment request which is started immediately.
 *  If no token can be retrieved for the identity, the user will be prompted
 *  to enter their credentials, after which enrollment will be retried.
 *  @param identity The UPN of the account to be logged in and enrolled.
 */
 (void)loginAndEnrollAccount: (NSString *)identity;

```

<span data-ttu-id="1ad03-293">Ao chamar esse método, se nenhum token existente puder ser encontrado, o SDK solicitará credenciais ao usuário.</span><span class="sxs-lookup"><span data-stu-id="1ad03-293">By calling this method, the SDK will prompt the user for credentials if no existing token can be found.</span></span> <span data-ttu-id="1ad03-294">O SDK, em seguida, tentará registrar o aplicativo com o serviço APP-WE em nome da conta de usuário fornecida.</span><span class="sxs-lookup"><span data-stu-id="1ad03-294">The SDK will then try to enroll the app with the APP-WE service on behalf of the supplied user account.</span></span> <span data-ttu-id="1ad03-295">O método pode ser chamado com "nulo" como a identidade.</span><span class="sxs-lookup"><span data-stu-id="1ad03-295">The method can be called with "nil" as the identity.</span></span> <span data-ttu-id="1ad03-296">Nesse caso, o SDK fará o registro com o usuário gerenciado existente no dispositivo ou solicitará que o usuário forneça um nome de usuário, se nenhum usuário existente for encontrado.</span><span class="sxs-lookup"><span data-stu-id="1ad03-296">In that case, the SDK will enroll with the existing managed user on the device, or prompt the user for a user name if no existing user is found.</span></span>

<span data-ttu-id="1ad03-297">Se o registro falhar, o aplicativo deverá considerar chamar essa API novamente no futuro, dependendo dos detalhes da falha.</span><span class="sxs-lookup"><span data-stu-id="1ad03-297">If the enrollment fails, the app should consider calling this API again at a future time, depending on the details of the failure.</span></span> <span data-ttu-id="1ad03-298">O aplicativo pode receber [notificações](#Status-result-and-debug-notifications), por meio de um delegado, sobre os resultados das solicitações de registro.</span><span class="sxs-lookup"><span data-stu-id="1ad03-298">The app can receive [notifications](#Status-result-and-debug-notifications), via a delegate, about the results of any enrollment requests.</span></span>

<span data-ttu-id="1ad03-299">Após essa API ser invocada, o aplicativo pode continuar funcionando normalmente.</span><span class="sxs-lookup"><span data-stu-id="1ad03-299">After this API has been invoked, the app can continue functioning as normal.</span></span> <span data-ttu-id="1ad03-300">Se o registro for bem-sucedido, o SDK notificará o usuário se que uma reinicialização do aplicativo é necessária.</span><span class="sxs-lookup"><span data-stu-id="1ad03-300">If the enrollment succeeds, the SDK will notify the user that an app restart is required.</span></span>

## <a name="status-result-and-debug-notifications"></a><span data-ttu-id="1ad03-301">Notificações de status, resultados e depuração</span><span class="sxs-lookup"><span data-stu-id="1ad03-301">Status, result, and debug notifications</span></span>

<span data-ttu-id="1ad03-302">O aplicativo pode receber notificações de status, resultados e depuração sobre as seguintes solicitações ao serviço de MAM do Intune:</span><span class="sxs-lookup"><span data-stu-id="1ad03-302">The app can receive status, result, and debug notifications about the following requests to the Intune MAM service:</span></span>

 - <span data-ttu-id="1ad03-303">Solicitações de registro</span><span class="sxs-lookup"><span data-stu-id="1ad03-303">Enrollment requests</span></span>
 - <span data-ttu-id="1ad03-304">Solicitações de atualização de políticas</span><span class="sxs-lookup"><span data-stu-id="1ad03-304">Policy update requests</span></span>
 - <span data-ttu-id="1ad03-305">Solicitações de cancelamento de registro</span><span class="sxs-lookup"><span data-stu-id="1ad03-305">Unenrollment requests</span></span>

<span data-ttu-id="1ad03-306">As notificações são apresentadas por meio de métodos de delegação no `Headers/IntuneMAMEnrollmentDelegate.h`:</span><span class="sxs-lookup"><span data-stu-id="1ad03-306">The notifications are presented via delegate methods in `Headers/IntuneMAMEnrollmentDelegate.h`:</span></span>

```objc
/**
 *  Called when an enrollment request operation is completed.
 * @param status status object containing debug information
 */

(void)enrollmentRequestWithStatus:(IntuneMAMEnrollmentStatus *)status;

/**
 *  Called when a MAM policy request operation is completed.
 *  @param status status object containing debug information
 */
(void)policyRequestWithStatus:(IntuneMAMEnrollmentStatus *)status;

/**
 *  Called when a un-enroll request operation is completed.
 *  @Note: when a user is un-enrolled, the user is also de-registered with the SDK
 *  @param status status object containing debug information
 */

(void)unenrollRequestWithStatus:(IntuneMAMEnrollmentStatus *)status;

```

<span data-ttu-id="1ad03-307">Esses métodos de delegação retornam um objeto `IntuneMAMEnrollmentStatus` que contém as seguintes informações:</span><span class="sxs-lookup"><span data-stu-id="1ad03-307">These delegate methods return an `IntuneMAMEnrollmentStatus` object that has the following information:</span></span>

- <span data-ttu-id="1ad03-308">a identidade da conta associada à solicitação</span><span class="sxs-lookup"><span data-stu-id="1ad03-308">The identity of the account associated with the request</span></span>
- <span data-ttu-id="1ad03-309">Um código de status indicando o resultado da solicitação</span><span class="sxs-lookup"><span data-stu-id="1ad03-309">A status code that indicates the result of the request</span></span>
- <span data-ttu-id="1ad03-310">uma cadeia de caracteres de erro com uma descrição do código de status</span><span class="sxs-lookup"><span data-stu-id="1ad03-310">An error string with a description of the status code</span></span>
- <span data-ttu-id="1ad03-311">Um objeto `NSError`</span><span class="sxs-lookup"><span data-stu-id="1ad03-311">An `NSError` object</span></span>

<span data-ttu-id="1ad03-312">Esse objeto é definido em `IntuneMAMEnrollmentStatus.h`, em conjunto com os códigos de status específicos que podem ser retornados.</span><span class="sxs-lookup"><span data-stu-id="1ad03-312">This object is defined in `IntuneMAMEnrollmentStatus.h`, along with the specific status codes that can be returned.</span></span>


### <a name="sample-code"></a><span data-ttu-id="1ad03-313">Código de exemplo</span><span class="sxs-lookup"><span data-stu-id="1ad03-313">Sample code</span></span>

<span data-ttu-id="1ad03-314">A seguir, temos exemplos de implementações dos métodos de delegação:</span><span class="sxs-lookup"><span data-stu-id="1ad03-314">These are example implementations of the delegate methods:</span></span>

```objc
- (void)enrollmentRequestWithStatus:(IntuneMAMEnrollmentStatus *)status
{
    NSLog(@"enrollment result for identity %@ with status code %ld", status.identity, (unsigned long)status.statusCode);
    NSLog(@"Debug Message: %@", status.errorString);
}


- (void)policyRequestWithStatus:(IntuneMAMEnrollmentStatus *)status
{
    NSLog(@"policy check-in result for identity %@ with status code %ld", status.identity, (unsigned long)status.statusCode);
    NSLog(@"Debug Message: %@", status.errorString);
}

- (void)unenrollRequestWithStatus:(IntuneMAMEnrollmentStatus *)status
{
    NSLog(@"un-enroll result for identity %@ with status code %ld", status.identity, (unsigned long)status.statusCode);
    NSLog(@"Debug Message: %@", status.errorString);
}

```

## <a name="app-restart"></a><span data-ttu-id="1ad03-315">Reinicialização do aplicativo</span><span class="sxs-lookup"><span data-stu-id="1ad03-315">App restart</span></span>

<span data-ttu-id="1ad03-316">Quando um aplicativo recebe políticas de proteção do aplicativo pela primeira vez, ele deve ser reiniciado para que os ganchos obrigatórios sejam aplicados.</span><span class="sxs-lookup"><span data-stu-id="1ad03-316">When an app receives app protection policies for the first time, it must restart to apply the required hooks.</span></span> <span data-ttu-id="1ad03-317">Para notificar o aplicativo de que uma reinicialização precisa ocorrer, o SDK fornece um método delegado em Headers/IntuneMAMPolicyDelegate.h.</span><span class="sxs-lookup"><span data-stu-id="1ad03-317">To notify the app that a restart needs to happen, the SDK provides a delegate method in Headers/IntuneMAMPolicyDelegate.h.</span></span>

```objc
 - (BOOL) restartApplication
```
<span data-ttu-id="1ad03-318">O valor retornado desse método informa o SDK se o aplicativo deverá realizar a reinicialização necessária:</span><span class="sxs-lookup"><span data-stu-id="1ad03-318">The return value of this method tells the SDK if the application must handle the required restart:</span></span>   

 - <span data-ttu-id="1ad03-319">Se true for retornado, o aplicativo deverá realizar a reinicialização.</span><span class="sxs-lookup"><span data-stu-id="1ad03-319">If true is returned, the application must handle the restart.</span></span>   

 - <span data-ttu-id="1ad03-320">Se false for retornado, o SDK reiniciará o aplicativo depois que o método retornar.</span><span class="sxs-lookup"><span data-stu-id="1ad03-320">If false is returned, the SDK will restart the application after this method returns.</span></span> <span data-ttu-id="1ad03-321">O SDK mostrará imediatamente uma caixa de diálogo informando ao usuário para reiniciar o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="1ad03-321">The SDK will immediately show a dialog box that tells the user to restart the application.</span></span>

## <a name="customize-your-apps-behavior"></a><span data-ttu-id="1ad03-322">Personalizar o comportamento do aplicativo</span><span class="sxs-lookup"><span data-stu-id="1ad03-322">Customize your app's behavior</span></span>

<span data-ttu-id="1ad03-323">O SDK do Aplicativo do Intune contém várias APIs que podem ser chamadas para obter informações sobre a política de proteção do aplicativo do Intune implantada no aplicativo.</span><span class="sxs-lookup"><span data-stu-id="1ad03-323">The Intune App SDK has several APIs you can call to get information about the Intune app protection policy deployed to the app.</span></span> <span data-ttu-id="1ad03-324">É possível usar esses dados para personalizar o comportamento do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="1ad03-324">You can use this data to customize your app's behavior.</span></span> <span data-ttu-id="1ad03-325">A maioria das configurações de política de proteção do aplicativo é imposta automaticamente pelo SDK e não pelo aplicativo.</span><span class="sxs-lookup"><span data-stu-id="1ad03-325">Most app protection policy settings are automatically enforced by the SDK and not the application.</span></span> <span data-ttu-id="1ad03-326">A única configuração que o aplicativo deve implementar é o controle Salvar como.</span><span class="sxs-lookup"><span data-stu-id="1ad03-326">The only setting that the app should implement is the Save-as control.</span></span>

### <a name="get-app-protection-policy"></a><span data-ttu-id="1ad03-327">Obtenha a política de proteção do aplicativo</span><span class="sxs-lookup"><span data-stu-id="1ad03-327">Get app protection policy</span></span>

#### <a name="intunemampolicymanagerh"></a><span data-ttu-id="1ad03-328">IntuneMAMPolicyManager.h</span><span class="sxs-lookup"><span data-stu-id="1ad03-328">IntuneMAMPolicyManager.h</span></span>
<span data-ttu-id="1ad03-329">A classe IntuneMAMPolicyManager expõe a política de proteção do aplicativo do Intune implantada no aplicativo.</span><span class="sxs-lookup"><span data-stu-id="1ad03-329">The IntuneMAMPolicyManager class exposes the Intune app protection policy deployed to the application.</span></span> <span data-ttu-id="1ad03-330">Particularmente, ela expõe APIs que são úteis para [habilitar várias identidades](#-enable-multi-identity-optional).</span><span class="sxs-lookup"><span data-stu-id="1ad03-330">Notably, it exposes APIs that are useful for [Enabling multi-identity](#-enable-multi-identity-optional).</span></span>

#### <a name="intunemampolicyh"></a><span data-ttu-id="1ad03-331">IntuneMAMPolicy.h</span><span class="sxs-lookup"><span data-stu-id="1ad03-331">IntuneMAMPolicy.h</span></span>
<span data-ttu-id="1ad03-332">A classe IntuneMAMPolicy expõe a política de proteção do aplicativo do Intune implantada no aplicativo.</span><span class="sxs-lookup"><span data-stu-id="1ad03-332">The IntuneMAMPolicy class exposes the Intune app protection policy deployed to the application.</span></span> <span data-ttu-id="1ad03-333">A maioria das configurações de política expostas nessa classe é aplicada pelo SDK, mas sempre é possível personalizar o comportamento do aplicativo de acordo com a forma de imposição das configurações de política.</span><span class="sxs-lookup"><span data-stu-id="1ad03-333">Most the policy settings exposed in this class are enforced by the SDK, but you can always customize your app's behavior based on how policy settings are enforced.</span></span>

<span data-ttu-id="1ad03-334">Essa classe expõe algumas APIs necessárias para implementar controles salvar como, detalhadas na próxima seção.</span><span class="sxs-lookup"><span data-stu-id="1ad03-334">This class exposes some APIs needed to implement save-as controls, detailed in the next section.</span></span>

### <a name="implement-save-as-controls"></a><span data-ttu-id="1ad03-335">Implementar controles salvar como</span><span class="sxs-lookup"><span data-stu-id="1ad03-335">Implement save-as controls</span></span>

<span data-ttu-id="1ad03-336">O Intune permite que os administradores de TI selecionem em quais locais de armazenamento um aplicativo gerenciado pode salvar dados.</span><span class="sxs-lookup"><span data-stu-id="1ad03-336">Intune lets IT admins select which storage locations a managed app can save data to.</span></span> <span data-ttu-id="1ad03-337">Os aplicativos podem consultar o SDK do Aplicativo do Intune quanto aos locais de armazenamento permitidos usando a API **isSaveToAllowedForLocation**, definida em **IntuneMAMPolicy.h**.</span><span class="sxs-lookup"><span data-stu-id="1ad03-337">Apps can query the Intune App SDK for allowed storage locations by using the **isSaveToAllowedForLocation** API, defined in **IntuneMAMPolicy.h**.</span></span>

<span data-ttu-id="1ad03-338">Antes que os aplicativos possam salvar dados gerenciados em um armazenamento em nuvem ou localmente, eles devem consultar a API **isSaveToAllowedForLocation** para saber se o administrador de TI permitiu que os dados fossem salvos no local em questão.</span><span class="sxs-lookup"><span data-stu-id="1ad03-338">Before apps can save managed data to a cloud-storage or local location, they must check with the **isSaveToAllowedForLocation** API to know if the IT admin has allowed data to be saved there.</span></span>

<span data-ttu-id="1ad03-339">Quando os aplicativos usarem a API **isSaveToAllowedForLocation**, deverão passar o UPN para o local de armazenamento, se estiver disponível.</span><span class="sxs-lookup"><span data-stu-id="1ad03-339">When apps use the **isSaveToAllowedForLocation** API, they must pass in the UPN for the storage location, if it is available.</span></span>

#### <a name="supported-save-locations"></a><span data-ttu-id="1ad03-340">Locais de salvamento com suporte</span><span class="sxs-lookup"><span data-stu-id="1ad03-340">Supported save locations</span></span>

<span data-ttu-id="1ad03-341">A API **isSaveToAllowedForLocation** fornece constantes para verificar se o administrador de TI permite que os dados sejam salvos nos seguintes locais definidos em IntuneMAMPolicy.h:</span><span class="sxs-lookup"><span data-stu-id="1ad03-341">The **isSaveToAllowedForLocation** API provides constants to check whether the IT admin permits data to be saved to the following locations defined in IntuneMAMPolicy.h:</span></span>

* <span data-ttu-id="1ad03-342">IntuneMAMSaveLocationOther</span><span class="sxs-lookup"><span data-stu-id="1ad03-342">IntuneMAMSaveLocationOther</span></span>
* <span data-ttu-id="1ad03-343">IntuneMAMSaveLocationOneDriveForBusiness</span><span class="sxs-lookup"><span data-stu-id="1ad03-343">IntuneMAMSaveLocationOneDriveForBusiness</span></span>
* <span data-ttu-id="1ad03-344">IntuneMAMSaveLocationSharePoint</span><span class="sxs-lookup"><span data-stu-id="1ad03-344">IntuneMAMSaveLocationSharePoint</span></span>
* <span data-ttu-id="1ad03-345">IntuneMAMSaveLocationLocalDrive</span><span class="sxs-lookup"><span data-stu-id="1ad03-345">IntuneMAMSaveLocationLocalDrive</span></span>

<span data-ttu-id="1ad03-346">Os aplicativos devem usar as constantes na API **isSaveToAllowedForLocation** para verificar se os dados podem ser salvos em locais considerados "gerenciados" como o OneDrive for Business ou "pessoal".</span><span class="sxs-lookup"><span data-stu-id="1ad03-346">Apps should use the constants in the **isSaveToAllowedForLocation** API to check if data can be saved to locations considered "managed," like OneDrive for Business, or "personal."</span></span> <span data-ttu-id="1ad03-347">Além disso, a API deve ser usada quando o aplicativo não pode verificar se um local é "gerenciado" ou "pessoal".</span><span class="sxs-lookup"><span data-stu-id="1ad03-347">Additionally, the API should be used when the app can't check whether a location is "managed" or "personal."</span></span>

<span data-ttu-id="1ad03-348">Os locais conhecidos como “pessoais” são representados pela constante `IntuneMAMSaveLocationOther`.</span><span class="sxs-lookup"><span data-stu-id="1ad03-348">Locations known to be "personal" are represented by the `IntuneMAMSaveLocationOther` constant.</span></span>

<span data-ttu-id="1ad03-349">A constante `IntuneMAMSaveLocationLocalDrive` deve ser usada quando o aplicativo salva dados em qualquer local no dispositivo local.</span><span class="sxs-lookup"><span data-stu-id="1ad03-349">The `IntuneMAMSaveLocationLocalDrive` constant should be used when the app is saving data to any location on the local device.</span></span>

## <a name="configure-settings-for-the-intune-app-sdk"></a><span data-ttu-id="1ad03-350">Definir as configurações do SDK do Aplicativo do Intune</span><span class="sxs-lookup"><span data-stu-id="1ad03-350">Configure settings for the Intune App SDK</span></span>

<span data-ttu-id="1ad03-351">Você pode usar o dicionário **IntuneMAMSettings** no arquivo Info.plist do aplicativo para configurar o SDK do Aplicativo do Intune.</span><span class="sxs-lookup"><span data-stu-id="1ad03-351">You can use the **IntuneMAMSettings** dictionary in the application’s Info.plist file to set up and configure the Intune App SDK.</span></span> <span data-ttu-id="1ad03-352">Se o dicionário IntuneMAMSettings não for visto no arquivo Info.plist, você deverá criar um dicionário no Info.plist em seu aplicativo com o nome do campo "IntuneMAMSettings".</span><span class="sxs-lookup"><span data-stu-id="1ad03-352">If the IntuneMAMSettings dictionary is not seen in your Info.plist file, you should create a dictionary in your app's Info.plist with the field name "IntuneMAMSettings."</span></span>

<span data-ttu-id="1ad03-353">No dicionário IntuneMAMSettings, você poderá adicionar as linhas de configuração de chave/valor para configurar o SDK.</span><span class="sxs-lookup"><span data-stu-id="1ad03-353">Under the IntuneMAMSettings dictionary, you can add key/value rows of configuration settings to configure the SDK.</span></span> <span data-ttu-id="1ad03-354">A tabela abaixo lista todas as configurações com suporte.</span><span class="sxs-lookup"><span data-stu-id="1ad03-354">The table below lists all supported settings.</span></span>

<span data-ttu-id="1ad03-355">Algumas dessas configurações podem ter sido abordadas nas seções anteriores e outras não se aplicam a todos os aplicativos.</span><span class="sxs-lookup"><span data-stu-id="1ad03-355">Some of these settings might have been covered in previous sections, and some do not apply to all apps.</span></span>

<span data-ttu-id="1ad03-356">Setting</span><span class="sxs-lookup"><span data-stu-id="1ad03-356">Setting</span></span>  | <span data-ttu-id="1ad03-357">Tipo</span><span class="sxs-lookup"><span data-stu-id="1ad03-357">Type</span></span>  | <span data-ttu-id="1ad03-358">Definição</span><span class="sxs-lookup"><span data-stu-id="1ad03-358">Definition</span></span> | <span data-ttu-id="1ad03-359">Necessário?</span><span class="sxs-lookup"><span data-stu-id="1ad03-359">Required?</span></span>
--       |  --   |   --       |  --
<span data-ttu-id="1ad03-360">ADALClientId</span><span class="sxs-lookup"><span data-stu-id="1ad03-360">ADALClientId</span></span>  | <span data-ttu-id="1ad03-361">Cadeia de caracteres</span><span class="sxs-lookup"><span data-stu-id="1ad03-361">String</span></span>  | <span data-ttu-id="1ad03-362">O identificador do cliente do Azure AD do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="1ad03-362">The app’s Azure AD client identifier.</span></span> | <span data-ttu-id="1ad03-363">Obrigatório se o aplicativo usar a ADAL.</span><span class="sxs-lookup"><span data-stu-id="1ad03-363">Required if the app uses ADAL.</span></span> |
<span data-ttu-id="1ad03-364">ADALAuthority</span><span class="sxs-lookup"><span data-stu-id="1ad03-364">ADALAuthority</span></span> | <span data-ttu-id="1ad03-365">Cadeia de caracteres</span><span class="sxs-lookup"><span data-stu-id="1ad03-365">String</span></span> | <span data-ttu-id="1ad03-366">A autoridade do Azure AD do aplicativo em uso.</span><span class="sxs-lookup"><span data-stu-id="1ad03-366">The app's Azure AD authority in use.</span></span> <span data-ttu-id="1ad03-367">É necessário usar seu próprio ambiente no qual as contas do AAD foram configuradas.</span><span class="sxs-lookup"><span data-stu-id="1ad03-367">You should use your own environment where AAD accounts have been configured.</span></span> | <span data-ttu-id="1ad03-368">Obrigatório se o aplicativo usar a ADAL.</span><span class="sxs-lookup"><span data-stu-id="1ad03-368">Required if the app uses ADAL.</span></span> <span data-ttu-id="1ad03-369">Se esse valor estiver ausente, um padrão do Intune será usado.</span><span class="sxs-lookup"><span data-stu-id="1ad03-369">If this value is absent, an Intune default is used.</span></span>|
<span data-ttu-id="1ad03-370">ADALRedirectUri</span><span class="sxs-lookup"><span data-stu-id="1ad03-370">ADALRedirectUri</span></span>  | <span data-ttu-id="1ad03-371">Cadeia de caracteres</span><span class="sxs-lookup"><span data-stu-id="1ad03-371">String</span></span>  | <span data-ttu-id="1ad03-372">O URI de redirecionamento do Azure AD do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="1ad03-372">The app’s Azure AD redirect URI.</span></span> | <span data-ttu-id="1ad03-373">ADALRedirectUri ou ADALRedirectScheme é obrigatório se o aplicativo usar a ADAL.</span><span class="sxs-lookup"><span data-stu-id="1ad03-373">ADALRedirectUri or ADALRedirectScheme is required if the app uses ADAL.</span></span>  |
<span data-ttu-id="1ad03-374">ADALRedirectScheme</span><span class="sxs-lookup"><span data-stu-id="1ad03-374">ADALRedirectScheme</span></span>  | <span data-ttu-id="1ad03-375">Cadeia de caracteres</span><span class="sxs-lookup"><span data-stu-id="1ad03-375">String</span></span>  | <span data-ttu-id="1ad03-376">O URI do esquema de redirecionamento do Azure AD do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="1ad03-376">The app's Azure AD redirect scheme.</span></span> <span data-ttu-id="1ad03-377">Pode ser usado no lugar de ADALRedirectUri se o URI de redirecionamento do aplicativo estiver no formato `scheme://bundle_id`.</span><span class="sxs-lookup"><span data-stu-id="1ad03-377">This can be used in place of ADALRedirectUri if the application's redirect URI is in the format `scheme://bundle_id`.</span></span> | <span data-ttu-id="1ad03-378">ADALRedirectUri ou ADALRedirectScheme é obrigatório se o aplicativo usar a ADAL.</span><span class="sxs-lookup"><span data-stu-id="1ad03-378">ADALRedirectUri or ADALRedirectScheme is required if the app uses ADAL.</span></span> |
<span data-ttu-id="1ad03-379">ADALLogOverrideDisabled</span><span class="sxs-lookup"><span data-stu-id="1ad03-379">ADALLogOverrideDisabled</span></span> | <span data-ttu-id="1ad03-380">Booliano</span><span class="sxs-lookup"><span data-stu-id="1ad03-380">Boolean</span></span>  | <span data-ttu-id="1ad03-381">Especifica se o SDK roteará todos os logs de ADAL (incluindo chamadas de ADAL do aplicativo, se houver) para seu próprio arquivo de log.</span><span class="sxs-lookup"><span data-stu-id="1ad03-381">Specifies whether the SDK will route all ADAL logs (including ADAL calls from the app, if any) to its own log file.</span></span> <span data-ttu-id="1ad03-382">O padrão é NÃO.</span><span class="sxs-lookup"><span data-stu-id="1ad03-382">Defaults to NO.</span></span> <span data-ttu-id="1ad03-383">Defina como SIM caso o aplicativo vá definir seu próprio retorno de chamada de log ADAL.</span><span class="sxs-lookup"><span data-stu-id="1ad03-383">Set to YES if the app will set its own ADAL log callback.</span></span> | <span data-ttu-id="1ad03-384">Opcional.</span><span class="sxs-lookup"><span data-stu-id="1ad03-384">Optional.</span></span> |
<span data-ttu-id="1ad03-385">ADALCacheKeychainGroupOverride</span><span class="sxs-lookup"><span data-stu-id="1ad03-385">ADALCacheKeychainGroupOverride</span></span> | <span data-ttu-id="1ad03-386">Cadeia de caracteres</span><span class="sxs-lookup"><span data-stu-id="1ad03-386">String</span></span>  | <span data-ttu-id="1ad03-387">Especifica o grupo de conjunto de chaves a ser usado para o cache da ADAL em vez de "com.microsoft.adalcache".</span><span class="sxs-lookup"><span data-stu-id="1ad03-387">Specifies the keychain group to use for the ADAL cache, instead of “com.microsoft.adalcache."</span></span> <span data-ttu-id="1ad03-388">Observe que ele não tem o prefixo app-id.</span><span class="sxs-lookup"><span data-stu-id="1ad03-388">Note that this doesn’t have the app-id prefix.</span></span> <span data-ttu-id="1ad03-389">O prefixo será acrescentado à cadeia de caracteres fornecida em tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="1ad03-389">That will be prefixed to the provided string at runtime.</span></span> | <span data-ttu-id="1ad03-390">Opcional.</span><span class="sxs-lookup"><span data-stu-id="1ad03-390">Optional.</span></span> |
<span data-ttu-id="1ad03-391">AppGroupIdentifiers</span><span class="sxs-lookup"><span data-stu-id="1ad03-391">AppGroupIdentifiers</span></span> | <span data-ttu-id="1ad03-392">Matriz de cadeia de caracteres</span><span class="sxs-lookup"><span data-stu-id="1ad03-392">Array of string</span></span>  | <span data-ttu-id="1ad03-393">Matriz de grupos de aplicativo na seção de grupos de com.apple.security.application de direitos do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="1ad03-393">Array of app groups from the app’s entitlements com.apple.security.application-groups section.</span></span> | <span data-ttu-id="1ad03-394">Necessário se o aplicativo usar grupos de aplicativos.</span><span class="sxs-lookup"><span data-stu-id="1ad03-394">Required if the app uses application groups.</span></span> |
<span data-ttu-id="1ad03-395">ContainingAppBundleId</span><span class="sxs-lookup"><span data-stu-id="1ad03-395">ContainingAppBundleId</span></span> | <span data-ttu-id="1ad03-396">Cadeia de caracteres</span><span class="sxs-lookup"><span data-stu-id="1ad03-396">String</span></span> | <span data-ttu-id="1ad03-397">Especifica a ID do pacote do aplicativo que contém a extensão.</span><span class="sxs-lookup"><span data-stu-id="1ad03-397">Specifies the bundle ID of the extension’s containing application.</span></span> | <span data-ttu-id="1ad03-398">Necessário para extensões do iOS.</span><span class="sxs-lookup"><span data-stu-id="1ad03-398">Required for iOS extensions.</span></span> |
<span data-ttu-id="1ad03-399">DebugSettingsEnabled</span><span class="sxs-lookup"><span data-stu-id="1ad03-399">DebugSettingsEnabled</span></span>| <span data-ttu-id="1ad03-400">Booliano</span><span class="sxs-lookup"><span data-stu-id="1ad03-400">Boolean</span></span> | <span data-ttu-id="1ad03-401">Se definido como SIM, as políticas de teste do pacote de Configurações podem ser aplicadas.</span><span class="sxs-lookup"><span data-stu-id="1ad03-401">If set to YES, test policies within the Settings bundle can be applied.</span></span> <span data-ttu-id="1ad03-402">Os aplicativos *não* devem ser fornecidos com essa configuração habilitada.</span><span class="sxs-lookup"><span data-stu-id="1ad03-402">Applications should *not* be shipped with this setting enabled.</span></span> | <span data-ttu-id="1ad03-403">Opcional.</span><span class="sxs-lookup"><span data-stu-id="1ad03-403">Optional.</span></span> |
<span data-ttu-id="1ad03-404">MainNibFile</span><span class="sxs-lookup"><span data-stu-id="1ad03-404">MainNibFile</span></span><br><span data-ttu-id="1ad03-405">MainNibFile~ipad</span><span class="sxs-lookup"><span data-stu-id="1ad03-405">MainNibFile~ipad</span></span>  | <span data-ttu-id="1ad03-406">Cadeia de caracteres</span><span class="sxs-lookup"><span data-stu-id="1ad03-406">String</span></span>  | <span data-ttu-id="1ad03-407">Essa configuração deve conter o nome do arquivo nib principal do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="1ad03-407">This setting should have the application’s main nib file name.</span></span>  | <span data-ttu-id="1ad03-408">Obrigatório se o aplicativo definir MainNibFile em Info.plist.</span><span class="sxs-lookup"><span data-stu-id="1ad03-408">Required if the application defines MainNibFile in Info.plist.</span></span> |
<span data-ttu-id="1ad03-409">MainStoryboardFile</span><span class="sxs-lookup"><span data-stu-id="1ad03-409">MainStoryboardFile</span></span><br><span data-ttu-id="1ad03-410">MainStoryboardFile~ipad</span><span class="sxs-lookup"><span data-stu-id="1ad03-410">MainStoryboardFile~ipad</span></span>  | <span data-ttu-id="1ad03-411">Cadeia de caracteres</span><span class="sxs-lookup"><span data-stu-id="1ad03-411">String</span></span>  | <span data-ttu-id="1ad03-412">Essa configuração deve conter o nome do arquivo storyboard principal do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="1ad03-412">This setting should have the application’s main storyboard file name.</span></span> | <span data-ttu-id="1ad03-413">Necessário se o aplicativo definir UIMainStoryboardFile em Info.plist.</span><span class="sxs-lookup"><span data-stu-id="1ad03-413">Required if the application defines UIMainStoryboardFile in Info.plist.</span></span> |
<span data-ttu-id="1ad03-414">AutoEnrollOnLaunch</span><span class="sxs-lookup"><span data-stu-id="1ad03-414">AutoEnrollOnLaunch</span></span>| <span data-ttu-id="1ad03-415">Booliano</span><span class="sxs-lookup"><span data-stu-id="1ad03-415">Boolean</span></span>| <span data-ttu-id="1ad03-416">Especifica se o aplicativo deverá tentar se registrar automaticamente na inicialização se uma identidade gerenciada existente for detectada e ainda não tiver feito o registro.</span><span class="sxs-lookup"><span data-stu-id="1ad03-416">Specifies whether the app should attempt to automatically enroll on launch if an existing managed identity is detected and it has not yet done so.</span></span> <span data-ttu-id="1ad03-417">O padrão é NÃO.</span><span class="sxs-lookup"><span data-stu-id="1ad03-417">Defaults to NO.</span></span> <br><br> <span data-ttu-id="1ad03-418">Observações: se nenhuma identidade gerenciada for encontrada ou nenhum token válido para a identidade estiver disponível no cache do ADAL, a tentativa de registro silenciosamente falhará sem solicitar credenciais, a menos que o aplicativo também tenha definido MAMPolicyRequired como SIM.</span><span class="sxs-lookup"><span data-stu-id="1ad03-418">Notes: If no managed identity is found or no valid token for the identity is available in the ADAL cache, the enrollment attempt will silently fail without prompting for credentials, unless the app has also set MAMPolicyRequired to YES.</span></span> | <span data-ttu-id="1ad03-419">Opcional.</span><span class="sxs-lookup"><span data-stu-id="1ad03-419">Optional.</span></span> |
<span data-ttu-id="1ad03-420">MAMPolicyRequired</span><span class="sxs-lookup"><span data-stu-id="1ad03-420">MAMPolicyRequired</span></span>| <span data-ttu-id="1ad03-421">Booliano</span><span class="sxs-lookup"><span data-stu-id="1ad03-421">Boolean</span></span>| <span data-ttu-id="1ad03-422">Especifica se a inicialização do aplicativo será impedida se ele não tiver uma política de proteção do aplicativo do Intune.</span><span class="sxs-lookup"><span data-stu-id="1ad03-422">Specifies whether the app will be blocked from starting if the app does not have an Intune app protection policy.</span></span> <span data-ttu-id="1ad03-423">O padrão é NÃO.</span><span class="sxs-lookup"><span data-stu-id="1ad03-423">Defaults to NO.</span></span> <br><br> <span data-ttu-id="1ad03-424">Observações: os aplicativos não podem ser enviados para a Loja de Aplicativos com MAMPolicyRequired definido como SIM.</span><span class="sxs-lookup"><span data-stu-id="1ad03-424">Notes: Apps cannot be submitted to the App Store with MAMPolicyRequired set to YES.</span></span> <span data-ttu-id="1ad03-425">Ao configurar o MAMPolicyRequired como SIM, o AutoEnrollOnLaunch também deverá ser definido como SIM.</span><span class="sxs-lookup"><span data-stu-id="1ad03-425">When setting MAMPolicyRequired to YES, AutoEnrollOnLaunch should also be set to YES.</span></span> | <span data-ttu-id="1ad03-426">Opcional.</span><span class="sxs-lookup"><span data-stu-id="1ad03-426">Optional.</span></span> |
<span data-ttu-id="1ad03-427">MAMPolicyWarnAbsent</span><span class="sxs-lookup"><span data-stu-id="1ad03-427">MAMPolicyWarnAbsent</span></span> | <span data-ttu-id="1ad03-428">Booliano</span><span class="sxs-lookup"><span data-stu-id="1ad03-428">Boolean</span></span>| <span data-ttu-id="1ad03-429">Especifica se o aplicativo alertará o usuário durante a inicialização se ele não tiver uma política de proteção do aplicativo do Intune.</span><span class="sxs-lookup"><span data-stu-id="1ad03-429">Specifies whether the app will warn the user during launch if the app does not have an Intune app protection policy.</span></span> <br><br> <span data-ttu-id="1ad03-430">Observação: os usuários ainda poderão usar o aplicativo sem política após ignorarem o aviso.</span><span class="sxs-lookup"><span data-stu-id="1ad03-430">Note: Users will still be allowed to use the app without policy after dismissing the warning.</span></span> | <span data-ttu-id="1ad03-431">Opcional.</span><span class="sxs-lookup"><span data-stu-id="1ad03-431">Optional.</span></span> |
<span data-ttu-id="1ad03-432">MultiIdentity</span><span class="sxs-lookup"><span data-stu-id="1ad03-432">MultiIdentity</span></span> | <span data-ttu-id="1ad03-433">Booliano</span><span class="sxs-lookup"><span data-stu-id="1ad03-433">Boolean</span></span>| <span data-ttu-id="1ad03-434">Especifica se o aplicativo reconhece ou não várias identidades.</span><span class="sxs-lookup"><span data-stu-id="1ad03-434">Specifies whether the app is multi-identity aware.</span></span> | <span data-ttu-id="1ad03-435">Opcional.</span><span class="sxs-lookup"><span data-stu-id="1ad03-435">Optional.</span></span> |
<span data-ttu-id="1ad03-436">SplashIconFile</span><span class="sxs-lookup"><span data-stu-id="1ad03-436">SplashIconFile</span></span> <br><span data-ttu-id="1ad03-437">SplashIconFile ~ ipad</span><span class="sxs-lookup"><span data-stu-id="1ad03-437">SplashIconFile~ipad</span></span> | <span data-ttu-id="1ad03-438">Cadeia de caracteres</span><span class="sxs-lookup"><span data-stu-id="1ad03-438">String</span></span>  | <span data-ttu-id="1ad03-439">Especifica o arquivo de ícone de abertura (inicialização) do Intune.</span><span class="sxs-lookup"><span data-stu-id="1ad03-439">Specifies the Intune splash (startup) icon file.</span></span> | <span data-ttu-id="1ad03-440">Opcional.</span><span class="sxs-lookup"><span data-stu-id="1ad03-440">Optional.</span></span> |
<span data-ttu-id="1ad03-441">SplashDuration</span><span class="sxs-lookup"><span data-stu-id="1ad03-441">SplashDuration</span></span> | <span data-ttu-id="1ad03-442">Número</span><span class="sxs-lookup"><span data-stu-id="1ad03-442">Number</span></span> | <span data-ttu-id="1ad03-443">Quantidade mínima de tempo em segundos pelo qual a tela inicial do Intune será exibida ao iniciar o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="1ad03-443">Minimum amount of time, in seconds, that the Intune startup screen will be shown at application launch.</span></span> <span data-ttu-id="1ad03-444">O padrão é 1,5.</span><span class="sxs-lookup"><span data-stu-id="1ad03-444">Defaults to 1.5.</span></span> | <span data-ttu-id="1ad03-445">Opcional.</span><span class="sxs-lookup"><span data-stu-id="1ad03-445">Optional.</span></span> |
<span data-ttu-id="1ad03-446">BackgroundColor</span><span class="sxs-lookup"><span data-stu-id="1ad03-446">BackgroundColor</span></span>| <span data-ttu-id="1ad03-447">Cadeia de caracteres</span><span class="sxs-lookup"><span data-stu-id="1ad03-447">String</span></span>| <span data-ttu-id="1ad03-448">Especifica a cor da tela de fundo para as telas de inicialização e de PIN.</span><span class="sxs-lookup"><span data-stu-id="1ad03-448">Specifies the background color for the startup and PIN screens.</span></span> <span data-ttu-id="1ad03-449">Aceita uma cadeia de caracteres hexadecimal RGB no formato "#XXXXXX", em que os X pode variar de 0 a 9 ou de A a F.</span><span class="sxs-lookup"><span data-stu-id="1ad03-449">Accepts a hexadecimal RGB string in the form of #XXXXXX, where X can range from 0-9 or A-F.</span></span> <span data-ttu-id="1ad03-450">O sinal de libra pode ser omitido.</span><span class="sxs-lookup"><span data-stu-id="1ad03-450">The pound sign might be omitted.</span></span>   | <span data-ttu-id="1ad03-451">Opcional.</span><span class="sxs-lookup"><span data-stu-id="1ad03-451">Optional.</span></span> <span data-ttu-id="1ad03-452">Opcional; o padrão é cinza claro.</span><span class="sxs-lookup"><span data-stu-id="1ad03-452">Defaults to light grey.</span></span> |
<span data-ttu-id="1ad03-453">ForegroundColor</span><span class="sxs-lookup"><span data-stu-id="1ad03-453">ForegroundColor</span></span>| <span data-ttu-id="1ad03-454">Cadeia de caracteres</span><span class="sxs-lookup"><span data-stu-id="1ad03-454">String</span></span>| <span data-ttu-id="1ad03-455">Especifica a cor de primeiro plano para as telas de inicialização e de PIN como a cor do texto.</span><span class="sxs-lookup"><span data-stu-id="1ad03-455">Specifies the foreground color for the startup and PIN screens, like text color.</span></span> <span data-ttu-id="1ad03-456">Aceita uma cadeia de caracteres hexadecimal RGB no formato "#XXXXXX", em que os X pode variar de 0 a 9 ou de A a F.</span><span class="sxs-lookup"><span data-stu-id="1ad03-456">Accepts a hexadecimal RGB string in the form of #XXXXXX, where X can range from 0-9 or A-F.</span></span> <span data-ttu-id="1ad03-457">O sinal de libra pode ser omitido.</span><span class="sxs-lookup"><span data-stu-id="1ad03-457">The pound sign might be omitted.</span></span>  | <span data-ttu-id="1ad03-458">Opcional.</span><span class="sxs-lookup"><span data-stu-id="1ad03-458">Optional.</span></span> <span data-ttu-id="1ad03-459">O padrão é preto.</span><span class="sxs-lookup"><span data-stu-id="1ad03-459">Defaults to black.</span></span> |
<span data-ttu-id="1ad03-460">AccentColor</span><span class="sxs-lookup"><span data-stu-id="1ad03-460">AccentColor</span></span> | <span data-ttu-id="1ad03-461">Cadeia de caracteres</span><span class="sxs-lookup"><span data-stu-id="1ad03-461">String</span></span>| <span data-ttu-id="1ad03-462">Especifica a cor de destaque de tela de PIN como a cor da caixa de texto e a cor de destaque da caixa.</span><span class="sxs-lookup"><span data-stu-id="1ad03-462">Specifies the accent color for the PIN screen, like button text color and box highlight color.</span></span> <span data-ttu-id="1ad03-463">Aceita uma cadeia de caracteres hexadecimal RGB no formato "#XXXXXX", em que os X pode variar de 0 a 9 ou de A a F.</span><span class="sxs-lookup"><span data-stu-id="1ad03-463">Accepts a hexadecimal RGB string in the form of #XXXXXX, where X can range from 0-9 or A-F.</span></span> <span data-ttu-id="1ad03-464">O sinal de libra pode ser omitido.</span><span class="sxs-lookup"><span data-stu-id="1ad03-464">The pound sign might be omitted.</span></span>| <span data-ttu-id="1ad03-465">Opcional.</span><span class="sxs-lookup"><span data-stu-id="1ad03-465">Optional.</span></span> <span data-ttu-id="1ad03-466">Opcional; o padrão é azul.</span><span class="sxs-lookup"><span data-stu-id="1ad03-466">Defaults to system blue.</span></span> |
<span data-ttu-id="1ad03-467">MAMTelemetryDisabled</span><span class="sxs-lookup"><span data-stu-id="1ad03-467">MAMTelemetryDisabled</span></span>| <span data-ttu-id="1ad03-468">Booliano</span><span class="sxs-lookup"><span data-stu-id="1ad03-468">Boolean</span></span>| <span data-ttu-id="1ad03-469">Especifica se o SDK não enviará dados de telemetria para seu back-end.</span><span class="sxs-lookup"><span data-stu-id="1ad03-469">Specifies if the SDK will not send any telemetry data to its back end.</span></span>| <span data-ttu-id="1ad03-470">Opcional.</span><span class="sxs-lookup"><span data-stu-id="1ad03-470">Optional.</span></span> |

> [!NOTE]
> <span data-ttu-id="1ad03-471">Se o aplicativo for liberado para a Loja de Aplicativos, `MAMPolicyRequired` deverá ser definido como “NÃO”, conforme os padrões da Loja de Aplicativos.</span><span class="sxs-lookup"><span data-stu-id="1ad03-471">If your app will be released to the App Store, `MAMPolicyRequired` must be set to "NO," per App Store standards.</span></span>

## <a name="enabling-mam-targeted-configuration-for-your-ios-applications"></a><span data-ttu-id="1ad03-472">Habilitar a configuração voltada para MAM para seus aplicativos iOS</span><span class="sxs-lookup"><span data-stu-id="1ad03-472">Enabling MAM targeted configuration for your iOS applications</span></span>
<span data-ttu-id="1ad03-473">A configuração voltada para MAM permite que um aplicativo receba dados de configuração por meio do SDK do aplicativo do Intune.</span><span class="sxs-lookup"><span data-stu-id="1ad03-473">MAM targeted configuration allows an app to receive configuration data through the Intune App SDK.</span></span> <span data-ttu-id="1ad03-474">O formato e as variantes desses dados devem ser definidos e comunicados aos clientes do Intune pelo proprietário/desenvolvedor do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="1ad03-474">The format and variants of this data must be defined and communicated to Intune customers by the application owner/developer.</span></span> <span data-ttu-id="1ad03-475">Os administradores do Intune podem direcionar e implantar dados de configuração por meio do console do Intune Azure.</span><span class="sxs-lookup"><span data-stu-id="1ad03-475">Intune administrators can target and deploy configuration data via the Intune Azure console.</span></span> <span data-ttu-id="1ad03-476">A partir do SDK do Intune App para iOS (v 7.0.1), aplicativos que participam da configuração voltada para MAM podem receber dados de configuração de MAM direcionada por meio do serviço de MAM.</span><span class="sxs-lookup"><span data-stu-id="1ad03-476">As of the Intune App SDK for iOS (v 7.0.1), apps that are participating in MAM targeted configuration can be provded MAM targeted configuration data via the MAM Service.</span></span> <span data-ttu-id="1ad03-477">Os dados de configuração de aplicativo são enviados por push por meio de nosso Serviço MAM diretamente para o aplicativo em vez de pelo canal MDM.</span><span class="sxs-lookup"><span data-stu-id="1ad03-477">The application configuration data is pushed through our MAM Service directly to the app instead of through the MDM channel.</span></span> <span data-ttu-id="1ad03-478">O SDK do aplicativo do Intune fornece uma classe para acessar os dados recuperados desses consoles.</span><span class="sxs-lookup"><span data-stu-id="1ad03-478">The Intune App SDK provides a class to access the data retrieved from these consoles.</span></span> <span data-ttu-id="1ad03-479">Considere os seguintes pré-requisitos:</span><span class="sxs-lookup"><span data-stu-id="1ad03-479">Consider the following as prerequisites:</span></span> <br>
* <span data-ttu-id="1ad03-480">O aplicativo precisa ser registrado em MAM-WE para poder acessar a interface do usuário de configuração voltada para MAM.</span><span class="sxs-lookup"><span data-stu-id="1ad03-480">The app needs to be MAM-WE enrolled before you access the MAM targeted config UI.</span></span> <span data-ttu-id="1ad03-481">Para obter mais informações sobre MAM-WE, consulte [Política de proteção de aplicativo sem registro de dispositivo no guia do SDK do aplicativo do Intune](https://docs.microsoft.com/en-us/intune/app-sdk-ios#app-protection-policy-without-device-enrollment).</span><span class="sxs-lookup"><span data-stu-id="1ad03-481">For more information about MAM-WE, see [App protection policy without device enrollment in the Intune App SDK guide](https://docs.microsoft.com/en-us/intune/app-sdk-ios#app-protection-policy-without-device-enrollment).</span></span>
* <span data-ttu-id="1ad03-482">Inclua ```IntuneMAMAppConfigManager.h``` no arquivo de origem do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="1ad03-482">Include ```IntuneMAMAppConfigManager.h``` in your app's source file.</span></span>
* <span data-ttu-id="1ad03-483">Chame ```[[IntuneMAMAppConfig instance] appConfigForIdentity:]``` para obter o objeto de configuração do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="1ad03-483">Call ```[[IntuneMAMAppConfig instance] appConfigForIdentity:]``` to get the App Config Object.</span></span>
* <span data-ttu-id="1ad03-484">Chame o seletor apropriado no objeto ```IntuneMAMAppConfig```.</span><span class="sxs-lookup"><span data-stu-id="1ad03-484">Call the appropriate selector on ```IntuneMAMAppConfig``` object.</span></span> <span data-ttu-id="1ad03-485">Por exemplo, se a chave do seu aplicativo é uma cadeia de caracteres, use ```stringValueForKey``` ou ```allStringsForKey```.</span><span class="sxs-lookup"><span data-stu-id="1ad03-485">For example, if your application's key is a string, you'd want to use ```stringValueForKey``` or ```allStringsForKey```.</span></span> <span data-ttu-id="1ad03-486">O arquivo ```IntuneMAMAppConfig.h header``` aborda as condições de erro/valores retornados.</span><span class="sxs-lookup"><span data-stu-id="1ad03-486">The ```IntuneMAMAppConfig.h header``` file talks about return values/error conditions.</span></span>

<span data-ttu-id="1ad03-487">Para obter mais informações sobre as funcionalidades da API do Graph em relação aos valores de configuração voltada para MAM, consulte [Referência da API do Graph para a configuração voltada para MAM](https://graph.microsoft.io/en-us/docs/api-reference/beta/api/intune_mam_targetedmanagedappconfiguration_create).</span><span class="sxs-lookup"><span data-stu-id="1ad03-487">For more information about the capabilities of the Graph API with respect to the MAM targeted configuration values, see [Graph API Reference MAM Targeted Config](https://graph.microsoft.io/en-us/docs/api-reference/beta/api/intune_mam_targetedmanagedappconfiguration_create).</span></span> <br>

<span data-ttu-id="1ad03-488">Para obter mais informações sobre como criar uma política de configuração de aplicativo voltada para MAM no iOS, consulte a seção sobre configuração de aplicativo voltada para MAM em [Como usar políticas de configuração de aplicativo do Microsoft Intune para iOS](https://docs.microsoft.com/en-us/intune/app-configuration-policies-use-ios).</span><span class="sxs-lookup"><span data-stu-id="1ad03-488">For more information about how to create a MAM targeted app configuration policy in iOS, see the section on MAM targeted app config in [How to use Microsoft Intune app configuration policies for iOS](https://docs.microsoft.com/en-us/intune/app-configuration-policies-use-ios).</span></span>

## <a name="telemetry"></a><span data-ttu-id="1ad03-489">Telemetria</span><span class="sxs-lookup"><span data-stu-id="1ad03-489">Telemetry</span></span>

<span data-ttu-id="1ad03-490">Por padrão, o SDK do Aplicativo do Intune para iOS registra dados de telemetria nos eventos de uso a seguir.</span><span class="sxs-lookup"><span data-stu-id="1ad03-490">By default, the Intune App SDK for iOS logs telemetry data on the following usage events.</span></span> <span data-ttu-id="1ad03-491">Esses dados são enviados para o Microsoft Intune.</span><span class="sxs-lookup"><span data-stu-id="1ad03-491">This data is sent to Microsoft Intune.</span></span>

* <span data-ttu-id="1ad03-492">**Inicialização do aplicativo**: para ajudar o Microsoft Intune a obter informações sobre o uso de aplicativos habilitados para MAM por tipo de gerenciamento (MAM com MDM, MAM sem registro de MDM etc.).</span><span class="sxs-lookup"><span data-stu-id="1ad03-492">**App launch**: To help Microsoft Intune learn about MAM-enabled app usage by management type (MAM with MDM, MAM without MDM enrollment, and so on).</span></span>

* <span data-ttu-id="1ad03-493">**Chamadas de registro**: para ajudar o Microsoft Intune a obter informações sobre a taxa de sucesso e outras métricas de desempenho de chamadas de registro iniciadas do lado do cliente.</span><span class="sxs-lookup"><span data-stu-id="1ad03-493">**Enrollment calls**: To help Microsoft Intune learn about success rate and other performance metrics of enrollment calls initiated from the client side.</span></span>

> [!NOTE]
> <span data-ttu-id="1ad03-494">Se optar por não enviar dados de telemetria do SDK de Aplicativo do Intune para o Microsoft Intune do seu aplicativo móvel, você deverá desabilitar a captura de telemetria pelo SDK de Aplicativo do Intune.</span><span class="sxs-lookup"><span data-stu-id="1ad03-494">If you choose not to send Intune App SDK telemetry data to Microsoft Intune from your mobile application, you must disable Intune App SDK telemetry capture.</span></span> <span data-ttu-id="1ad03-495">Defina a propriedade `MAMTelemetryDisabled` como SIM no dicionário IntuneMAMSettings.</span><span class="sxs-lookup"><span data-stu-id="1ad03-495">Set the property `MAMTelemetryDisabled` to YES in the IntuneMAMSettings dictionary.</span></span>

## <a name="enable-multi-identity-optional"></a><span data-ttu-id="1ad03-496">Habilitar várias identidades (opcional)</span><span class="sxs-lookup"><span data-stu-id="1ad03-496">Enable multi-identity (optional)</span></span>

<span data-ttu-id="1ad03-497">Por padrão, o SDK aplica a política ao aplicativo como um todo.</span><span class="sxs-lookup"><span data-stu-id="1ad03-497">By default, the SDK applies a policy to the app as a whole.</span></span> <span data-ttu-id="1ad03-498">Várias identidades é um recurso do MAM que você pode habilitar para aplicar uma política em um nível por identidade.</span><span class="sxs-lookup"><span data-stu-id="1ad03-498">Multi-identity is a MAM feature that you can enable to apply a policy on a per-identity level.</span></span> <span data-ttu-id="1ad03-499">Ele requer mais participação do aplicativo do que outros recursos de MAM.</span><span class="sxs-lookup"><span data-stu-id="1ad03-499">This requires more app participation than other MAM features.</span></span>

<span data-ttu-id="1ad03-500">O aplicativo precisa informar ao SDK de aplicativo quando pretende alterar a identidade ativa.</span><span class="sxs-lookup"><span data-stu-id="1ad03-500">The app must inform the app SDK when it intends to change the active identity.</span></span> <span data-ttu-id="1ad03-501">O SDK também notificará o aplicativo quando uma alteração de identidade for necessária.</span><span class="sxs-lookup"><span data-stu-id="1ad03-501">The SDK also notifies the app when an identity change is required.</span></span> <span data-ttu-id="1ad03-502">Atualmente, há suporte para apenas uma identidade gerenciada.</span><span class="sxs-lookup"><span data-stu-id="1ad03-502">Currently, only one managed identity is supported.</span></span> <span data-ttu-id="1ad03-503">Depois que o usuário registrar o dispositivo ou o aplicativo, o SDK usará essa identidade e a considerará a identidade gerenciada primária.</span><span class="sxs-lookup"><span data-stu-id="1ad03-503">After the user enrolls the device or the app, the SDK uses this identity and considers it the primary managed identity.</span></span> <span data-ttu-id="1ad03-504">Outros usuários no aplicativo serão tratados como não gerenciados, com configurações de política irrestritas.</span><span class="sxs-lookup"><span data-stu-id="1ad03-504">Other users in the app will be treated as unmanaged with unrestricted policy settings.</span></span>

<span data-ttu-id="1ad03-505">Observe que uma identidade é definida simplesmente como uma cadeia de caracteres.</span><span class="sxs-lookup"><span data-stu-id="1ad03-505">Note that an identity is simply defined as a string.</span></span> <span data-ttu-id="1ad03-506">As identidades não diferenciam maiúsculas de minúsculas.</span><span class="sxs-lookup"><span data-stu-id="1ad03-506">Identities are case-insensitive.</span></span> <span data-ttu-id="1ad03-507">As solicitações de identidade ao SDK podem não retornar o mesmo esquema de maiúsculas e minúsculas usado originalmente ao definir a identidade.</span><span class="sxs-lookup"><span data-stu-id="1ad03-507">Requests to the SDK for an identity might not return the same casing that was originally used when the identity was set.</span></span>

### <a name="identity-overview"></a><span data-ttu-id="1ad03-508">Visão geral de identidade</span><span class="sxs-lookup"><span data-stu-id="1ad03-508">Identity overview</span></span>

<span data-ttu-id="1ad03-509">Uma identidade é simplesmente o nome de usuário de uma conta (por exemplo, user@contoso.com).</span><span class="sxs-lookup"><span data-stu-id="1ad03-509">An identity is simply the user name of an account (for example, user@contoso.com).</span></span> <span data-ttu-id="1ad03-510">Os desenvolvedores podem definir a identidade do aplicativo nos níveis a seguir:</span><span class="sxs-lookup"><span data-stu-id="1ad03-510">Developers can set the identity of the app on the following levels:</span></span>

* <span data-ttu-id="1ad03-511">**Identidade de processo**: define a identidade de todo o processo e é usada principalmente para aplicativos de identidade única.</span><span class="sxs-lookup"><span data-stu-id="1ad03-511">**Process identity**: Sets the process-wide identity and is mainly used for single identity applications.</span></span> <span data-ttu-id="1ad03-512">Essa identidade afeta todas as tarefas, arquivos e a interface do usuário.</span><span class="sxs-lookup"><span data-stu-id="1ad03-512">This identity affects all tasks, files, and UI.</span></span>

* <span data-ttu-id="1ad03-513">**Identidade de interface do usuário**: determina quais políticas são aplicadas às tarefas de interface do usuário no thread principal, como recortar/copiar/colar, PIN, autenticação e compartilhamento de dados.</span><span class="sxs-lookup"><span data-stu-id="1ad03-513">**UI identity**: Determines what policies are applied to UI tasks on the main thread, like cut/copy/paste, PIN, authentication, and data sharing.</span></span> <span data-ttu-id="1ad03-514">A identidade de interface do usuário não afeta as tarefas de arquivo como criptografia, backup etc.</span><span class="sxs-lookup"><span data-stu-id="1ad03-514">The UI identity does not affect file tasks like encryption and backup.</span></span>

* <span data-ttu-id="1ad03-515">**Identidade de thread**: a identidade de thread afeta quais políticas são aplicadas no thread atual.</span><span class="sxs-lookup"><span data-stu-id="1ad03-515">**Thread identity**: Affects what policies are applied on the current thread.</span></span> <span data-ttu-id="1ad03-516">Essa identidade afeta todas as tarefas, arquivos e a interface do usuário.</span><span class="sxs-lookup"><span data-stu-id="1ad03-516">This identity affects all tasks, files, and UI.</span></span>

<span data-ttu-id="1ad03-517">É responsabilidade do aplicativo definir as identidades adequadamente, quer o usuário seja gerenciado ou não.</span><span class="sxs-lookup"><span data-stu-id="1ad03-517">The app is responsible for setting the identities appropriately, whether or not the user is managed.</span></span>

<span data-ttu-id="1ad03-518">A qualquer momento, todo thread tem uma identidade efetiva para tarefas de interface do usuário e tarefas de arquivo.</span><span class="sxs-lookup"><span data-stu-id="1ad03-518">At any time, every thread has an effective identity for UI tasks and file tasks.</span></span> <span data-ttu-id="1ad03-519">Essa é a identidade usada para verificar quais políticas, se houver, devem ser aplicadas.</span><span class="sxs-lookup"><span data-stu-id="1ad03-519">This is the identity that's used to check what policies, if any, should be applied.</span></span> <span data-ttu-id="1ad03-520">Se a identidade for "nenhuma identidade" ou o usuário não for gerenciado, nenhuma política será aplicada.</span><span class="sxs-lookup"><span data-stu-id="1ad03-520">If the identity is "no identity" or the user is not managed, no policies will be applied.</span></span> <span data-ttu-id="1ad03-521">Os diagramas abaixo mostram como as identidades efetivas são determinadas.</span><span class="sxs-lookup"><span data-stu-id="1ad03-521">The diagrams below show how the effective identities are determined.</span></span>

  ![SDK do Aplicativo do Intune para iOS: estruturas e bibliotecas vinculadas](./media/ios-thread-identities.png)

### <a name="thread-queues"></a><span data-ttu-id="1ad03-523">Filas de thread</span><span class="sxs-lookup"><span data-stu-id="1ad03-523">Thread queues</span></span>

<span data-ttu-id="1ad03-524">Frequentemente, os aplicativos expedem tarefas síncronas e assíncronas para filas de thread.</span><span class="sxs-lookup"><span data-stu-id="1ad03-524">Apps often dispatch asynchronous and synchronous tasks to thread queues.</span></span> <span data-ttu-id="1ad03-525">O SDK intercepta chamadas de GCD (Grand Central Dispatch) e associa a identidade do thread atual às tarefas expedidas.</span><span class="sxs-lookup"><span data-stu-id="1ad03-525">The SDK intercepts Grand Central Dispatch (GCD) calls and associates the current thread identity with the dispatched tasks.</span></span> <span data-ttu-id="1ad03-526">Quando as tarefas são concluídas, o SDK altera temporariamente a identidade do thread para a identidade associada às tarefas, conclui as tarefas e restaura a identidade do thread original.</span><span class="sxs-lookup"><span data-stu-id="1ad03-526">When the tasks are finished, the SDK temporarily changes the thread identity to the identity associated with the tasks, finishes the tasks, then restores the original thread identity.</span></span>


<span data-ttu-id="1ad03-527">Como `NSOperationQueue` é criado sobre o GCD, `NSOperations` será executado na identidade do thread no momento em que as tarefas forem adicionadas ao `NSOperationQueue`.</span><span class="sxs-lookup"><span data-stu-id="1ad03-527">Because `NSOperationQueue` is built on top of GCD, `NSOperations` will run on the identity of the thread at the time the tasks are added to `NSOperationQueue`.</span></span> <span data-ttu-id="1ad03-528">O `NSOperations` ou funções expedidas diretamente usando o GCD também têm a capacidade de alterar a identidade do thread atual conforme são executadas.</span><span class="sxs-lookup"><span data-stu-id="1ad03-528">`NSOperations` or functions dispatched directly through GCD can also change the current thread identity as they are running.</span></span> <span data-ttu-id="1ad03-529">Essa identidade substituirá a identidade herdada do thread de expedição.</span><span class="sxs-lookup"><span data-stu-id="1ad03-529">This identity will override the identity inherited from the dispatching thread.</span></span>

### <a name="file-owner"></a><span data-ttu-id="1ad03-530">Proprietário do arquivo</span><span class="sxs-lookup"><span data-stu-id="1ad03-530">File owner</span></span>

<span data-ttu-id="1ad03-531">O SDK acompanha as identidades dos proprietários do arquivo local e aplica políticas de acordo com elas.</span><span class="sxs-lookup"><span data-stu-id="1ad03-531">The SDK tracks the identities of local file owners and applies policies accordingly.</span></span> <span data-ttu-id="1ad03-532">Um proprietário do arquivo é estabelecido quando o arquivo é criado ou quando é aberto no modo de truncamento.</span><span class="sxs-lookup"><span data-stu-id="1ad03-532">A file owner is established when a file is created or when a file is opened in truncate mode.</span></span> <span data-ttu-id="1ad03-533">O proprietário é definido como a identidade de operação do arquivo efetivo do thread que executa a operação.</span><span class="sxs-lookup"><span data-stu-id="1ad03-533">The owner is set to the effective file task identity of the thread that's performing the task.</span></span>

<span data-ttu-id="1ad03-534">Como alternativa, os aplicativos podem definir a identidade do proprietário do arquivo explicitamente usando `IntuneMAMFilePolicyManager`.</span><span class="sxs-lookup"><span data-stu-id="1ad03-534">Alternatively, apps can set the file owner identity explicitly by using `IntuneMAMFilePolicyManager`.</span></span> <span data-ttu-id="1ad03-535">Os aplicativos podem usar o `IntuneMAMFilePolicyManager` para recuperar o proprietário do arquivo e definir a identidade da interface do usuário antes de mostrar o conteúdo do arquivo.</span><span class="sxs-lookup"><span data-stu-id="1ad03-535">Apps can use `IntuneMAMFilePolicyManager` to retrieve the file owner and set the UI identity before showing the file contents.</span></span>

### <a name="shared-data"></a><span data-ttu-id="1ad03-536">Dados compartilhados</span><span class="sxs-lookup"><span data-stu-id="1ad03-536">Shared data</span></span>

<span data-ttu-id="1ad03-537">Se o aplicativo criar arquivos que contêm dados de usuários gerenciados e não gerenciados, será responsabilidade do aplicativo criptografar os dados do usuário gerenciado.</span><span class="sxs-lookup"><span data-stu-id="1ad03-537">If the app creates files that have data from both managed and unmanaged users, the app is responsible for encrypting the managed user’s data.</span></span> <span data-ttu-id="1ad03-538">Você pode criptografar dados usando as APIs `protect` e `unprotect` em `IntuneMAMDataProtectionManager`.</span><span class="sxs-lookup"><span data-stu-id="1ad03-538">You can encrypt data by using the `protect` and `unprotect` APIs in `IntuneMAMDataProtectionManager`.</span></span>

<span data-ttu-id="1ad03-539">O método `protect` aceita uma identidade que pode ser um usuário gerenciado ou não gerenciado.</span><span class="sxs-lookup"><span data-stu-id="1ad03-539">The `protect` method accepts an identity that can be a managed or unmanaged user.</span></span> <span data-ttu-id="1ad03-540">Se o usuário for gerenciado, os dados serão criptografados.</span><span class="sxs-lookup"><span data-stu-id="1ad03-540">If the user is managed, the data will be encrypted.</span></span> <span data-ttu-id="1ad03-541">Se o usuário não for gerenciado, um cabeçalho será adicionado aos dados codificando a identidade, mas os dados não serão criptografados.</span><span class="sxs-lookup"><span data-stu-id="1ad03-541">If the user is unmanaged, a header will be added to the data that's encoding the identity, but the data will not be encrypted.</span></span> <span data-ttu-id="1ad03-542">O método `protectionInfo` pode ser usado para recuperar o proprietário dos dados.</span><span class="sxs-lookup"><span data-stu-id="1ad03-542">You can use the `protectionInfo` method to retrieve the data’s owner.</span></span>

### <a name="share-extensions"></a><span data-ttu-id="1ad03-543">Extensões de compartilhamento</span><span class="sxs-lookup"><span data-stu-id="1ad03-543">Share extensions</span></span>

<span data-ttu-id="1ad03-544">Se o aplicativo contiver uma Extensão de compartilhamento, o proprietário do item sendo compartilhado poderá ser recuperado usando o método `protectionInfoForItemProvider` em `IntuneMAMDataProtectionManager`.</span><span class="sxs-lookup"><span data-stu-id="1ad03-544">If the app has a share extension, the owner of the item being shared can be retrieved through the  `protectionInfoForItemProvider` method in `IntuneMAMDataProtectionManager`.</span></span> <span data-ttu-id="1ad03-545">Se o item compartilhado for um arquivo, o SDK processará a definição do proprietário do arquivo.</span><span class="sxs-lookup"><span data-stu-id="1ad03-545">If the shared item is a file, the SDK will handle setting the file owner.</span></span> <span data-ttu-id="1ad03-546">Se o item compartilhado forem dados, o aplicativo será responsável por definir o proprietário do arquivo se esses dados forem persistidos em um arquivo; será responsável também por chamar a API `setUIPolicyIdentity` antes de mostrar esses dados na interface do usuário.</span><span class="sxs-lookup"><span data-stu-id="1ad03-546">If the shared item is data, the app is responsible for setting the file owner if this data is persisted to a file, and for calling the `setUIPolicyIdentity` API before showing this data in the UI.</span></span>

### <a name="turning-on-multi-identity"></a><span data-ttu-id="1ad03-547">Ligar várias identidades</span><span class="sxs-lookup"><span data-stu-id="1ad03-547">Turning on multi-identity</span></span>

<span data-ttu-id="1ad03-548">Por padrão, considera-se que todos os aplicativos são aplicativos de identidade única.</span><span class="sxs-lookup"><span data-stu-id="1ad03-548">By default, apps are considered single identity.</span></span> <span data-ttu-id="1ad03-549">O SDK define a identidade do processo para o usuário registrado.</span><span class="sxs-lookup"><span data-stu-id="1ad03-549">The SDK sets the process identity to the enrolled user.</span></span> <span data-ttu-id="1ad03-550">Para habilitar o suporte a várias identidades, uma configuração booliana com o nome `MultiIdentity` e o valor YES deve ser adicionada ao dicionário IntuneMAMSettings no arquivo Info.plist do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="1ad03-550">To enable multi-identity support, add a Boolean setting with the name `MultiIdentity` and a value of YES to the IntuneMAMSettings dictionary in the app's Info.plist file.</span></span>

> [!NOTE]
> <span data-ttu-id="1ad03-551">Quando o recurso várias identidades estiver habilitado, a identidade do processo, identidade da interface do usuário e identidades de thread serão definidas como nulas.</span><span class="sxs-lookup"><span data-stu-id="1ad03-551">When multi-identity is enabled, the process identity, UI identity, and thread identities are set to nil.</span></span> <span data-ttu-id="1ad03-552">O aplicativo é responsável por defini-las adequadamente.</span><span class="sxs-lookup"><span data-stu-id="1ad03-552">The app is responsible for setting them appropriately.</span></span>

### <a name="switching-identities"></a><span data-ttu-id="1ad03-553">Alternando identidades</span><span class="sxs-lookup"><span data-stu-id="1ad03-553">Switching identities</span></span>

* <span data-ttu-id="1ad03-554">**Alternância de identidade iniciada pelo aplicativo**:</span><span class="sxs-lookup"><span data-stu-id="1ad03-554">**App-initiated identity switch**:</span></span>

    <span data-ttu-id="1ad03-555">Na inicialização, é considerado que aplicativos com várias identidades estejam sendo executados sob uma conta desconhecida, não gerenciada.</span><span class="sxs-lookup"><span data-stu-id="1ad03-555">At launch, multi-identity apps are considered to be running under an unknown, unmanaged account.</span></span> <span data-ttu-id="1ad03-556">A interface do usuário de inicialização condicional não será executada e nenhuma política será imposta ao aplicativo.</span><span class="sxs-lookup"><span data-stu-id="1ad03-556">The conditional launch UI will not run, and no policies will be enforced on the app.</span></span> <span data-ttu-id="1ad03-557">É responsabilidade do aplicativo notificar o SDK sempre que a identidade precisar ser alterada.</span><span class="sxs-lookup"><span data-stu-id="1ad03-557">The app is responsible for notifying the SDK whenever the identity should be changed.</span></span> <span data-ttu-id="1ad03-558">Normalmente, isso ocorrerá sempre que o aplicativo estiver prestes a mostrar dados de uma conta de usuário específica.</span><span class="sxs-lookup"><span data-stu-id="1ad03-558">Typically, this will happen whenever the app is about to show data for a specific user account.</span></span>

    <span data-ttu-id="1ad03-559">Um exemplo é quando o usuário tenta abrir um documento, caixa de correio ou uma guia em um bloco de anotações.</span><span class="sxs-lookup"><span data-stu-id="1ad03-559">An example is when the user attempts to open a document, a mailbox, or a tab in a notebook.</span></span> <span data-ttu-id="1ad03-560">O aplicativo precisa notificar o SDK antes que arquivo, caixa de correio ou guia seja, de fato, aberto.</span><span class="sxs-lookup"><span data-stu-id="1ad03-560">The app needs to notify the SDK before the file, mailbox, or tab is actually opened.</span></span> <span data-ttu-id="1ad03-561">Isso é feito através da API `setUIPolicyIdentity` em `IntuneMAMPolicyManager`.</span><span class="sxs-lookup"><span data-stu-id="1ad03-561">This is done through the `setUIPolicyIdentity` API in `IntuneMAMPolicyManager`.</span></span> <span data-ttu-id="1ad03-562">Essa API deve ser chamada quer o usuário seja gerenciado ou não.</span><span class="sxs-lookup"><span data-stu-id="1ad03-562">This API should be called whether or not the user is managed.</span></span> <span data-ttu-id="1ad03-563">Se o usuário for gerenciado, o SDK executará as verificações de inicialização condicional (como detecção de jailbreak, PIN, autenticação etc.).</span><span class="sxs-lookup"><span data-stu-id="1ad03-563">If the user is managed, the SDK will perform the conditional launch checks, like jailbreak detection, PIN, and authentication.</span></span>

    <span data-ttu-id="1ad03-564">O resultado da alternância de identidade é retornado ao aplicativo de forma assíncrona por meio de um manipulador de conclusão.</span><span class="sxs-lookup"><span data-stu-id="1ad03-564">The result of the identity switch is returned to the app asynchronously through a completion handler.</span></span> <span data-ttu-id="1ad03-565">O aplicativo deve adiar a abertura do documento, da caixa de correio ou da guia até que um código de resultado de êxito seja retornado.</span><span class="sxs-lookup"><span data-stu-id="1ad03-565">The app should postpone opening the document, mailbox, or tab until a success result code is returned.</span></span> <span data-ttu-id="1ad03-566">Se a mudança de identidade falhar, o aplicativo deverá cancelar a tarefa.</span><span class="sxs-lookup"><span data-stu-id="1ad03-566">If the identity switch failed, the app should cancel the task.</span></span>

* <span data-ttu-id="1ad03-567">**Alternância de identidade iniciada pelo SDK**:</span><span class="sxs-lookup"><span data-stu-id="1ad03-567">**SDK-initiated identity switch**:</span></span>

    <span data-ttu-id="1ad03-568">Há casos em que o SDK precisa solicitar que o aplicativo mude para uma identidade específica.</span><span class="sxs-lookup"><span data-stu-id="1ad03-568">Sometimes, the SDK needs to ask the app to switch to a specific identity.</span></span> <span data-ttu-id="1ad03-569">Aplicativos com várias identidades devem implementar o método `identitySwitchRequired` em `IntuneMAMPolicyDelegate` para processar essa solicitação.</span><span class="sxs-lookup"><span data-stu-id="1ad03-569">Multi-identity apps must implement the `identitySwitchRequired` method in `IntuneMAMPolicyDelegate` to handle this request.</span></span>

    <span data-ttu-id="1ad03-570">Quando esse método é chamado, se o aplicativo for capaz de processar a solicitação de mudar para a identidade especificada, ele deverá passar `IntuneMAMAddIdentityResultSuccess` no manipulador de conclusão.</span><span class="sxs-lookup"><span data-stu-id="1ad03-570">When this method is called, if the app can handle the request to switch to the specified identity, it should pass `IntuneMAMAddIdentityResultSuccess` into the completion handler.</span></span> <span data-ttu-id="1ad03-571">Se não for capaz de processar a mudança de identidade, o aplicativo deverá passar `IntuneMAMAddIdentityResultFailed` para o manipulador de conclusão.</span><span class="sxs-lookup"><span data-stu-id="1ad03-571">If it can't handle switching the identity, the app should pass `IntuneMAMAddIdentityResultFailed` into the completion handler.</span></span>

    <span data-ttu-id="1ad03-572">O aplicativo não precisa chamar `setUIPolicyIdentity` em resposta a essa chamada.</span><span class="sxs-lookup"><span data-stu-id="1ad03-572">The app does not have to call `setUIPolicyIdentity` in response to this call.</span></span> <span data-ttu-id="1ad03-573">Se o SDK precisar que o aplicativo alterne para uma conta de usuário não gerenciada, a cadeia de caracteres vazia será passada para a chamada `identitySwitchRequired`.</span><span class="sxs-lookup"><span data-stu-id="1ad03-573">If the SDK needs the app to switch to an unmanaged user account, the empty string will be passed into the `identitySwitchRequired` call.</span></span>

* <span data-ttu-id="1ad03-574">**Apagamento seletivo**:</span><span class="sxs-lookup"><span data-stu-id="1ad03-574">**Selective wipe**:</span></span>

    <span data-ttu-id="1ad03-575">Quando o aplicativo for apagado seletivamente, o SDK chamará o método `wipeDataForAccount` em `IntuneMAMPolicyDelegate`.</span><span class="sxs-lookup"><span data-stu-id="1ad03-575">When the app is selectively wiped, the SDK will call the `wipeDataForAccount` method in `IntuneMAMPolicyDelegate`.</span></span> <span data-ttu-id="1ad03-576">É responsabilidade do aplicativo remover a conta de usuário especificada e todos os dados associados a ela.</span><span class="sxs-lookup"><span data-stu-id="1ad03-576">The app is responsible for removing the specified user’s account and any data associated with it.</span></span> <span data-ttu-id="1ad03-577">O SDK é capaz de remover todos os arquivos pertencentes ao usuário e fará isso se o aplicativo retornas FALSE da chamada `wipeDataForAccount`.</span><span class="sxs-lookup"><span data-stu-id="1ad03-577">The SDK is capable of removing all files owned by the user and will do so if the app returns FALSE from the `wipeDataForAccount` call.</span></span>

    <span data-ttu-id="1ad03-578">Observe que este método é chamado de um thread em segundo plano.</span><span class="sxs-lookup"><span data-stu-id="1ad03-578">Note that this method is called from a background thread.</span></span> <span data-ttu-id="1ad03-579">O aplicativo não deve retornar um valor até que todos os dados para o usuário tenham sido removidos (com exceção dos arquivos, se o aplicativo retornar FALSE).</span><span class="sxs-lookup"><span data-stu-id="1ad03-579">The app should not return a value until all data for the user has been removed (with the exception of files if the app returns FALSE).</span></span>

## <a name="test-app-protection-policy-settings-in-xcode"></a><span data-ttu-id="1ad03-580">Testar as configurações de política de proteção de aplicativo no Xcode</span><span class="sxs-lookup"><span data-stu-id="1ad03-580">Test app protection policy settings in Xcode</span></span>

<span data-ttu-id="1ad03-581">Antes de testar manualmente seu aplicativo habilitado para Intune em produção, você pode usar um arquivo Settings.bundle no Xcode.</span><span class="sxs-lookup"><span data-stu-id="1ad03-581">Before you manually test your Intune-enlightened app in production, you can use a Settings.bundle file while in Xcode.</span></span> <span data-ttu-id="1ad03-582">Isso permitirá que você defina políticas de proteção de aplicativo para teste sem a necessidade de uma conexão com o Intune.</span><span class="sxs-lookup"><span data-stu-id="1ad03-582">This will let you set app protection policies for testing without requiring a connection to Intune.</span></span>

### <a name="enable-policy-testing"></a><span data-ttu-id="1ad03-583">Habilitar o teste da política</span><span class="sxs-lookup"><span data-stu-id="1ad03-583">Enable policy testing</span></span>

<span data-ttu-id="1ad03-584">Execute as etapas abaixo para habilitar o teste de política no Xcode:</span><span class="sxs-lookup"><span data-stu-id="1ad03-584">Follow the steps below to enable policy testing in Xcode:</span></span>

1. <span data-ttu-id="1ad03-585">Você precisa estar em uma compilação de depuração.</span><span class="sxs-lookup"><span data-stu-id="1ad03-585">Make sure to be in a debug build.</span></span> <span data-ttu-id="1ad03-586">Adicione um arquivo Settings.bundle clicando com o botão direito do mouse na pasta de nível superior no seu projeto.</span><span class="sxs-lookup"><span data-stu-id="1ad03-586">Add a Settings.bundle file by right-clicking the top-level folder in your project.</span></span> <span data-ttu-id="1ad03-587">Selecione **Adicionar** > **Novo Arquivo** no menu.</span><span class="sxs-lookup"><span data-stu-id="1ad03-587">Choose **Add** > **New File** from the menu.</span></span> <span data-ttu-id="1ad03-588">Em **Recursos**, selecione o modelo **Pacote de Configurações**.</span><span class="sxs-lookup"><span data-stu-id="1ad03-588">Under **Resources**, choose the **Settings Bundle** template.</span></span>

2.  <span data-ttu-id="1ad03-589">Copie o seguinte bloco no arquivo Settings.bundle/**Root.plist** para a compilação de depuração:</span><span class="sxs-lookup"><span data-stu-id="1ad03-589">Copy the following block to the Settings.bundle/**Root.plist** file for the debug build:</span></span>
    ```xml
    <key>PreferenceSpecifiers</key>
    <array>
        <dict>
            <key>Type</key>
            <string>PSChildPaneSpecifier</string>
            <key>Title</key>
            <string>MDM Debug Settings</string>
            <key>Key</key>
            <string>MAMDebugSettings</string>
            <key>File</key>
            <string>MAMDebugSettings</string>
        </dict>
    </array>
    ```

3. <span data-ttu-id="1ad03-590">No dicionário**IntuneMAMSettings** no Info.plist do aplicativo, adicione um valor booliano chamado "DebugSettingsEnabled".</span><span class="sxs-lookup"><span data-stu-id="1ad03-590">In the **IntuneMAMSettings** dictionary in the app's Info.plist, add a boolean called "DebugSettingsEnabled."</span></span> <span data-ttu-id="1ad03-591">Defina o valor de DebugSettingsEnabled como "SIM".</span><span class="sxs-lookup"><span data-stu-id="1ad03-591">Set the value of DebugSettingsEnabled to "YES."</span></span>



### <a name="app-protection-policy-settings"></a><span data-ttu-id="1ad03-592">Configurações da política de proteção de aplicativo</span><span class="sxs-lookup"><span data-stu-id="1ad03-592">App protection policy settings</span></span>

<span data-ttu-id="1ad03-593">A tabela a seguir descreve as configurações da política de proteção de aplicativo que você pode testar usando MAMDebugSettings.plist.</span><span class="sxs-lookup"><span data-stu-id="1ad03-593">The table below describes the app protection policy settings that you can test using MAMDebugSettings.plist.</span></span> <span data-ttu-id="1ad03-594">Para ativar uma configuração, adicione-a em MAMDebugSettings.plist.</span><span class="sxs-lookup"><span data-stu-id="1ad03-594">To turn on a setting, add it in MAMDebugSettings.plist.</span></span>

| <span data-ttu-id="1ad03-595">Nome da configuração de política</span><span class="sxs-lookup"><span data-stu-id="1ad03-595">Policy setting name</span></span> | <span data-ttu-id="1ad03-596">Descrição</span><span class="sxs-lookup"><span data-stu-id="1ad03-596">Description</span></span> | <span data-ttu-id="1ad03-597">Valores possíveis</span><span class="sxs-lookup"><span data-stu-id="1ad03-597">Possible values</span></span> |
| -- | -- | -- |
| <span data-ttu-id="1ad03-598">AccessRecheckOfflineTimeout</span><span class="sxs-lookup"><span data-stu-id="1ad03-598">AccessRecheckOfflineTimeout</span></span> | <span data-ttu-id="1ad03-599">O período em minutos durante os quais o aplicativo pode ficar offline antes de o Intune bloquear sua inicialização ou retomada se a autenticação estiver habilitada.</span><span class="sxs-lookup"><span data-stu-id="1ad03-599">The length of time in minutes the app can be offline before Intune blocks the app from launching or resuming if authentication is enabled.</span></span> | <span data-ttu-id="1ad03-600">Qualquer inteiro maior do que 0</span><span class="sxs-lookup"><span data-stu-id="1ad03-600">Any integer greater than 0</span></span> |
|   <span data-ttu-id="1ad03-601">AccessRecheckOnlineTimeout</span><span class="sxs-lookup"><span data-stu-id="1ad03-601">AccessRecheckOnlineTimeout</span></span> | <span data-ttu-id="1ad03-602">O período em minutos durante o qual o aplicativo pode executar antes de o usuário receber uma solicitação de PIN ou autenticação ao iniciar ou retomar (se a autenticação ou PIN para acesso estiver habilitado).</span><span class="sxs-lookup"><span data-stu-id="1ad03-602">The length of time in minutes the app can run before the user is prompted for PIN or authentication at launch or resume (if authentication or PIN for access is enabled).</span></span> | <span data-ttu-id="1ad03-603">Qualquer inteiro maior do que 0</span><span class="sxs-lookup"><span data-stu-id="1ad03-603">Any integer greater than 0</span></span> |
| <span data-ttu-id="1ad03-604">AppSharingFromLevel</span><span class="sxs-lookup"><span data-stu-id="1ad03-604">AppSharingFromLevel</span></span> | <span data-ttu-id="1ad03-605">Especifica de quais aplicativos este aplicativo pode aceitar dados.</span><span class="sxs-lookup"><span data-stu-id="1ad03-605">Specifies which apps this app can accept data from.</span></span> | <span data-ttu-id="1ad03-606">0 =</span><span class="sxs-lookup"><span data-stu-id="1ad03-606">0 =</span></span> |
## <a name="ios-best-practices"></a><span data-ttu-id="1ad03-607">Melhores práticas de iOS</span><span class="sxs-lookup"><span data-stu-id="1ad03-607">iOS best practices</span></span>

<span data-ttu-id="1ad03-608">A seguir estão algumas melhores práticas para o desenvolvimento para iOS:</span><span class="sxs-lookup"><span data-stu-id="1ad03-608">Here are recommended best practices for developing for iOS:</span></span>

* <span data-ttu-id="1ad03-609">O sistema de arquivos iOS diferencia maiúsculas de minúsculas.</span><span class="sxs-lookup"><span data-stu-id="1ad03-609">The iOS file system is case-sensitive.</span></span> <span data-ttu-id="1ad03-610">Certifique-se de que o caso está correto para nomes de arquivo como `libIntuneMAM.a` e `IntuneMAMResources.bundle`.</span><span class="sxs-lookup"><span data-stu-id="1ad03-610">Ensure that the case is correct for file names like `libIntuneMAM.a` and `IntuneMAMResources.bundle`.</span></span>

* <span data-ttu-id="1ad03-611">Se o Xcode tiver problemas para encontrar `libIntuneMAM.a`, você pode corrigir o problema adicionando o caminho para essa biblioteca aos caminhos de pesquisa do vinculador.</span><span class="sxs-lookup"><span data-stu-id="1ad03-611">If Xcode has trouble finding `libIntuneMAM.a`, you can fix the problem by adding the path to this library into the linker search paths.</span></span>

## <a name="faqs"></a><span data-ttu-id="1ad03-612">Perguntas Frequentes</span><span class="sxs-lookup"><span data-stu-id="1ad03-612">FAQs</span></span>


<span data-ttu-id="1ad03-613">**Todas as APIs são endereçáveis pelo Swift nativo ou pela interoperabilidade Objective-C e Swift?**</span><span class="sxs-lookup"><span data-stu-id="1ad03-613">**Are all of the APIs addressable through native Swift or the Objective-C and Swift interoperability?**</span></span>

<span data-ttu-id="1ad03-614">As APIs do SDK do aplicativo Intune estão apenas em Objective-C e não dão suporte ao Swift **nativo**.</span><span class="sxs-lookup"><span data-stu-id="1ad03-614">The Intune App SDK APIs are in Objective-C only and do not support **native** Swift.</span></span> <span data-ttu-id="1ad03-615">A interoperabilidade Swift com Objective-C é obrigatória.</span><span class="sxs-lookup"><span data-stu-id="1ad03-615">Swift interoperability with Objective-C is required.</span></span>


<span data-ttu-id="1ad03-616">**Todos os usuários do meu aplicativo precisam estar registrados no serviço de APP-WE?**</span><span class="sxs-lookup"><span data-stu-id="1ad03-616">**Do all users of my application need to be registered with the APP-WE service?**</span></span>

<span data-ttu-id="1ad03-617">Não.</span><span class="sxs-lookup"><span data-stu-id="1ad03-617">No.</span></span> <span data-ttu-id="1ad03-618">Na verdade, somente contas corporativas ou de estudante devem ser registradas com o SDK do Intune App.</span><span class="sxs-lookup"><span data-stu-id="1ad03-618">In fact, only work or school accounts should be registered with the Intune App SDK.</span></span> <span data-ttu-id="1ad03-619">Os aplicativos são responsáveis por determinar se uma conta é usada em um contexto de trabalho ou escolar.</span><span class="sxs-lookup"><span data-stu-id="1ad03-619">Apps are responsible for determining if an account is used in a work or school context.</span></span>   

<span data-ttu-id="1ad03-620">**E quanto aos usuários que já entraram no aplicativo? Eles precisam ser registrados?**</span><span class="sxs-lookup"><span data-stu-id="1ad03-620">**What about users that have already signed in to the application? Do they need to be enrolled?**</span></span>

<span data-ttu-id="1ad03-621">O aplicativo é responsável pelo registro de usuários depois que eles tiverem sido autenticados com êxito.</span><span class="sxs-lookup"><span data-stu-id="1ad03-621">The application is responsible for enrolling users after they have been successfully authenticated.</span></span> <span data-ttu-id="1ad03-622">O aplicativo também é responsável pelo registro de todas as contas existentes que podem ter estado presentes antes do aplicativo ter funcionalidade de MAM sem MDM.</span><span class="sxs-lookup"><span data-stu-id="1ad03-622">The application is also responsible for enrolling any existing accounts that might have been present before the application had MDM-less MAM functionality.</span></span>   

<span data-ttu-id="1ad03-623">Para fazer isso, o aplicativo deve fazer uso do método `registeredAccounts:`.</span><span class="sxs-lookup"><span data-stu-id="1ad03-623">To do this, the application should make use of the `registeredAccounts:` method.</span></span> <span data-ttu-id="1ad03-624">Esse método retorna um dicionário NSDictionary que contém todas as contas registradas no serviço de MAM do Intune.</span><span class="sxs-lookup"><span data-stu-id="1ad03-624">This method returns an NSDictionary that has all of the accounts registered into the Intune MAM service.</span></span> <span data-ttu-id="1ad03-625">Se qualquer conta existente no aplicativo não estiver na lista, o aplicativo deverá registrar essas contas via `registerAndEnrollAccount:`.</span><span class="sxs-lookup"><span data-stu-id="1ad03-625">If any existing accounts in the application are not in the list, the application should register and enroll those accounts via `registerAndEnrollAccount:`.</span></span>

<span data-ttu-id="1ad03-626">**Com que frequência o SDK repete tentativas de registro?**</span><span class="sxs-lookup"><span data-stu-id="1ad03-626">**How often does the SDK retry enrollments?**</span></span>

<span data-ttu-id="1ad03-627">O SDK tentará, automaticamente, realizar todas as inscrições com falha em um intervalo de 24 horas.</span><span class="sxs-lookup"><span data-stu-id="1ad03-627">The SDK will automatically retry all previously failed enrollments on a 24-hour interval.</span></span> <span data-ttu-id="1ad03-628">O SDK faz isso para garantir que, se a organização de um usuário tiver habilitado o MAM após o usuário ter se conectado ao aplicativo, o usuário seja registrado e receba políticas com êxito.</span><span class="sxs-lookup"><span data-stu-id="1ad03-628">The SDK does this to ensure that if a user’s organization enabled MAM after the user signed in to the application, the user will successfully enroll and receive policies.</span></span>

<span data-ttu-id="1ad03-629">O SDK deixará de repetir as tentativas quando detectar que um usuário registrou o aplicativo com êxito.</span><span class="sxs-lookup"><span data-stu-id="1ad03-629">The SDK will stop retrying when it detects that a user has successfully enrolled the application.</span></span> <span data-ttu-id="1ad03-630">Isso acontece porque apenas um usuário pode registrar um aplicativo em um dado momento.</span><span class="sxs-lookup"><span data-stu-id="1ad03-630">This is because only one user can enroll an application at a particular time.</span></span> <span data-ttu-id="1ad03-631">Se o registro do usuário for cancelado, as tentativas começarão novamente no mesmo intervalo de 24 horas.</span><span class="sxs-lookup"><span data-stu-id="1ad03-631">If the user is unenrolled, the retries will begin again on the same 24-hour interval.</span></span>

<span data-ttu-id="1ad03-632">**Por que o registro do usuário precisa ser cancelado?**</span><span class="sxs-lookup"><span data-stu-id="1ad03-632">**Why does the user need to be deregistered?**</span></span>

<span data-ttu-id="1ad03-633">O SDK executará periodicamente as seguintes ações na tela de fundo:</span><span class="sxs-lookup"><span data-stu-id="1ad03-633">The SDK will take these actions in the background periodically:</span></span>

 - <span data-ttu-id="1ad03-634">Se o aplicativo ainda não estiver registrado, ele tentará registrar todas as contas registradas a cada 24 horas.</span><span class="sxs-lookup"><span data-stu-id="1ad03-634">If the application is not yet enrolled, it will try to enroll all registered accounts every 24 hours.</span></span>
 - <span data-ttu-id="1ad03-635">Se o aplicativo estiver registrado, o SDK verificará se há atualizações da política de proteção do aplicativo a cada 8 horas.</span><span class="sxs-lookup"><span data-stu-id="1ad03-635">If the application is enrolled, the SDK will check for app protection policy updates every 8 hours.</span></span>

<span data-ttu-id="1ad03-636">Ao cancelar o registro de um usuário, ele notifica o SDK que o usuário não usará mais o aplicativo e que o SDK pode interromper qualquer um dos eventos periódicos para essa conta de usuário.</span><span class="sxs-lookup"><span data-stu-id="1ad03-636">Deregistering a user notifies the SDK that the user will no longer use the application, and the SDK can stop any of the periodic events for that user account.</span></span> <span data-ttu-id="1ad03-637">Ele também dispara o cancelamento do registro do aplicativo e um apagamento seletivo, se necessário.</span><span class="sxs-lookup"><span data-stu-id="1ad03-637">It also triggers an app unenroll and selective wipe if necessary.</span></span>

<span data-ttu-id="1ad03-638">**Eu devo definir o sinalizador doWipe como true no método de cancelamento de registro?**</span><span class="sxs-lookup"><span data-stu-id="1ad03-638">**Should I set the doWipe flag to true in the deregister method?**</span></span>

<span data-ttu-id="1ad03-639">Esse método deve ser chamado antes que usuário seja desconectado do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="1ad03-639">This method should be called before the user is signed out of the application.</span></span>  <span data-ttu-id="1ad03-640">Se, como parte da desconexão, os dados do usuário forem excluídos do aplicativo, `doWipe` poderá ser definido como false.</span><span class="sxs-lookup"><span data-stu-id="1ad03-640">If the user’s data is deleted from the application as part of the sign-out, `doWipe` can be set to false.</span></span> <span data-ttu-id="1ad03-641">No entanto, se o aplicativo não remover os dados do usuário, `doWipe` deverá ser definido como true para que o SDK possa excluir os dados.</span><span class="sxs-lookup"><span data-stu-id="1ad03-641">But if the application does not remove the user’s data, `doWipe` should be set to true so that the SDK can delete the data.</span></span>

<span data-ttu-id="1ad03-642">**Há outras formas de cancelar o registro de um aplicativo?**</span><span class="sxs-lookup"><span data-stu-id="1ad03-642">**Are there any other ways that an application can be un-enrolled?**</span></span>

<span data-ttu-id="1ad03-643">Sim, o administrador de TI pode enviar um comando de apagamento seletivo para o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="1ad03-643">Yes, the IT admin can send a selective wipe command to the application.</span></span> <span data-ttu-id="1ad03-644">Isso cancelará o registro do usuário e apagará seus dados.</span><span class="sxs-lookup"><span data-stu-id="1ad03-644">This will deregister and unenroll the user, and it will wipe the user’s data.</span></span> <span data-ttu-id="1ad03-645">O SDK processa automaticamente esse cenário e envia uma notificação por meio do método de delegação de cancelamento de registro.</span><span class="sxs-lookup"><span data-stu-id="1ad03-645">The SDK automatically handles this scenario and sends a notification via the unenroll delegate method.</span></span>



## <a name="submit-your-app-to-the-app-store"></a><span data-ttu-id="1ad03-646">Enviar seu aplicativo à App Store</span><span class="sxs-lookup"><span data-stu-id="1ad03-646">Submit your app to the App Store</span></span>

<span data-ttu-id="1ad03-647">Ambos o build da biblioteca estática e o do framework do SDK de Aplicativo do Intune são binários universais.</span><span class="sxs-lookup"><span data-stu-id="1ad03-647">Both the static library and framework builds of the Intune App SDK are universal binaries.</span></span> <span data-ttu-id="1ad03-648">Isso significa que eles têm código para todas as arquiteturas de dispositivo e de simulador.</span><span class="sxs-lookup"><span data-stu-id="1ad03-648">This means they have code for all device and simulator architectures.</span></span> <span data-ttu-id="1ad03-649">A Apple rejeitará aplicativos enviados à App Store se eles contiverem código de simulador.</span><span class="sxs-lookup"><span data-stu-id="1ad03-649">Apple will reject apps submitted to the App Store if they have simulator code.</span></span> <span data-ttu-id="1ad03-650">Ao compilar com a biblioteca estática para builds somente de dispositivo, o vinculador removerá automaticamente o código de simulador.</span><span class="sxs-lookup"><span data-stu-id="1ad03-650">When compiling against the static library for device-only builds, the linker will automatically strip out the simulator code.</span></span> <span data-ttu-id="1ad03-651">Siga as etapas abaixo para garantir que todos os códigos de simulador sejam removidos antes de carregar o aplicativo na App Store.</span><span class="sxs-lookup"><span data-stu-id="1ad03-651">Follow the steps below to ensure all simulator code is removed before you upload your app to the App Store.</span></span>

1. <span data-ttu-id="1ad03-652">Confirme se `IntuneMAM.framework` está em sua área de trabalho.</span><span class="sxs-lookup"><span data-stu-id="1ad03-652">Make sure `IntuneMAM.framework` is on your desktop.</span></span>

2. <span data-ttu-id="1ad03-653">Execute estes comandos:</span><span class="sxs-lookup"><span data-stu-id="1ad03-653">Run these commands:</span></span>

    ```bash
    lipo ~/Desktop/IntuneMAM.framework/IntuneMAM -remove i386 -remove x86_64 -output ~/Desktop/IntuneMAM.device_only
    ```

    ```bash
    cp ~/Desktop/IntuneMAM.device_only ~/Desktop/IntuneMAM.framework/IntuneMAM
    ```
    <span data-ttu-id="1ad03-654">O primeiro comando remove as arquiteturas de simulador do arquivo DYLIB da estrutura.</span><span class="sxs-lookup"><span data-stu-id="1ad03-654">The first command strips the simulator architectures from the framework's DYLIB file.</span></span> <span data-ttu-id="1ad03-655">O segundo comando copia o arquivo DYLIB somente para dispositivos de volta para o diretório da estrutura.</span><span class="sxs-lookup"><span data-stu-id="1ad03-655">The second command copies the device-only DYLIB file back into the framework directory.</span></span>
